{"version":3,"sources":["node_modules/wicked-elements/esm/3rd/regular-elements/poorly/event.js","node_modules/wicked-elements/esm/3rd/regular-elements/poorly/weakset.js","node_modules/wicked-elements/esm/3rd/regular-elements/poorly/assign.js","node_modules/wicked-elements/esm/3rd/regular-elements/poly/contains.js","node_modules/wicked-elements/esm/3rd/regular-elements/poly/matches.js","node_modules/wicked-elements/esm/3rd/regular-elements/3rd/attributechanged.js","node_modules/wicked-elements/esm/3rd/regular-elements/3rd/disconnected.js","node_modules/wicked-elements/esm/3rd/regular-elements/index.js","node_modules/wicked-elements/esm/index.js","../src/lib/directive.ts","../src/lib/dom.ts","../src/lib/part.ts","../src/lib/template.ts","../src/lib/template-instance.ts","../src/lib/template-result.ts","../src/lib/parts.ts","../src/lib/default-template-processor.ts","../src/lib/template-factory.ts","../src/lib/render.ts","src/lit-html.ts","src/util/debounce-render.js","src/util/with-props.js","src/util/page-visibility.js","src/util/index.js","src/util/audio.js","src/components/wicked-tec1.js","src/components/seven-seg-display.js","src/components/seven-seg.js","src/components/instructions.js","src/components/key-button.js","src/components/keypad-classic.js","src/components/keypad-modern.js","src/app.js","src/index.js"],"names":["$Event","Event","o_O","CustomEvent","type","e","document","createEvent","initEvent","$WeakSet","WeakSet","constructor","WeakMap","$","prototype","add","O","set","has","delete","i","Math","random","join","Object","defineProperty","value","configurable","hasOwnProperty","call","assign","target","o","arguments","length","k","contains","el","parentNode","indexOf","matches","documentElement","selector","matchesSelector","webkitMatchesSelector","khtmlMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","fallback","querySelectorAll","attributechanged","poly","observe","node","attributeFilter","options","attributes","attributeOldValue","filtered","Array","slice","MutationObserver","changes","handleEvent","attrModified","addEventListener","event","dispatchEvent","attrName","prevValue","attributeName","oldValue","newValue","getAttribute","records","record","disconnected","CONNECTED","DISCONNECTED","notObserving","observer","startObserving","ownerDocument","dispatched","subtree","childList","timer","reschedule","push","clearTimeout","setTimeout","splice","addedNodes","removedNodes","Tracker","dispatchAll","nodes","counter","nodeType","dispatchTarget","children","bootstrap","query","config","waiting","known","regularElements","define","init","Error","ready","setupListeners","get","whenDefined","Promise","resolve","lifecycle","connected","setupList","doc","readyState","once","setup","ws","css","isElement","setupListener","dispatch","method","ATTRIBUTE_FILTER","ONDISCONNECTED","ONATTRIBUTECHANGED","create","wickedElements","component","definition","onconnected","addIfNeeded","currentTarget","removeEventListener","key","handler","invoke","debounceRender","object","requested","renderFunc","render","element","requestAnimationFrame","withProps","def","def2","oldInit","requestRender","observeProperties","props","observedProperties","prop","hasProp","initValue","propertyChanged","hidden","visibilityChange","msHidden","webkitHidden","isHidden","addVisibilityListener","func","removeVisiblityListener","AudioContext","window","webkitAudioContext","audioCtx","source1","active","stop","createOscillator","frequency","connect","destination","start","audioValue","setValueAtTime","currentTime","isAudioPlaying","audioInit","audioPlay","state","suspend","resume","audioToggle","audioPause","keyMap","Digit0","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","Space","Tab","Enter","Minus","ArrowDown","ArrowUp","wickedTec1","digits","segments","display","fill","handleVisibility","bind","handleKeyDown","classic","localStorage","getItem","speed","worker","Worker","onmessage","view","Uint8Array","data","buffer","wavelength","postMessage","postSpeed","ondisconnected","terminate","console","log","handleButton","code","shiftKey","ctrlKey","preventDefault","keyCode","port","handleUpload","files","file","reader","FileReader","onload","result","readAsText","html","tec1Image","detail","checked","setItem","String","sevenSegDisplay","display0","blanks","map","segs","index","sevenSeg","instructions","keyButton","text","color","left","top","style","keyPadClassic","keyPadModern","initApp"],"mappings":"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","file":"src.a2b27638.map","sourceRoot":"..","sourcesContent":["/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nvar $Event;\n\ntry {\n  new Event('!');\n  $Event = Event;\n} catch(o_O) {\n  try {\n    new CustomEvent('!');\n    $Event = CustomEvent;\n  } catch(o_O) {\n    $Event = function (type) {\n      var e = document.createEvent('Event');\n      e.initEvent(type, false, false);\n      return e;\n    };\n  }\n}\n\nexport default $Event;\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nvar $WeakSet;\n\ntry {\n  $WeakSet = (new WeakSet).constructor;\n} catch(o_O) {\n  try {\n    // IE11 apparently has WeakMap but no WeakSet\n    o_O = ($WeakSet = new WeakMap && function () {\n      this.$ = new WeakMap;\n    }).prototype;\n    o_O.add = function (O) {\n      this.$.set(O, 0);\n      return this;\n    };\n    o_O.has = function (O) {\n      return this.$.has(O);\n    };\n    o_O.delete = function (O) {\n      return this.$.delete(O);\n    };\n  } catch(o_O) {\n    // all other browsers\n    var i = 0;\n    o_O = ($WeakSet = function () {\n      this.$ = ['__', Math.random(), i++, '__'].join('ws');\n    }).prototype;\n    o_O.add = function (O) {\n      if (!this.has(O))\n        Object.defineProperty(O, this.$, {value:true, configurable:true});\n      return this;\n    };\n    o_O.has = function (O) {\n      return this.hasOwnProperty.call(O, this.$);\n    };\n    o_O.delete = function (O) {\n      return delete O[this.$];\n    };\n  }\n}\n\nexport default $WeakSet;\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nexport default Object.assign || function (target) {\n  for (var o, i = 1; i < arguments.length; i++) {\n    o = arguments[i] || {};\n    for (var k in o) {\n      if (o.hasOwnProperty(k))\n        target[k] = o[k];\n    }\n  }\n  return target;\n};\n","// borrowed from https://github.com/WebReflection/dom4/blob/master/src/dom4.js#L361\nvar contains = document.contains || function (el) {\n  while (el && el !== this) el = el.parentNode;\n  return this === el;\n};\n\nexport default contains;\n","var indexOf = [].indexOf;\n\n// borrowed from https://github.com/WebReflection/dom4/blob/master/src/dom4.js#L130\nvar matches = 'matches' in document.documentElement ?\n  function (el, selector) {\n    return el.matches(selector);\n  } :\n  function (el, selector) {\n    return (\n      el.matchesSelector ||\n      el.webkitMatchesSelector ||\n      el.khtmlMatchesSelector ||\n      el.mozMatchesSelector ||\n      el.msMatchesSelector ||\n      el.oMatchesSelector ||\n      fallback\n    ).call(el, selector);\n  };\n\nexport default matches;\n\nfunction fallback(selector) {\n  var parentNode = this.parentNode;\n  return !!parentNode && -1 < indexOf.call(\n    parentNode.querySelectorAll(selector),\n    this\n  );\n}\n","/*! (c) Andrea Giammarchi */\nfunction attributechanged(poly) {'use strict';\n  var Event = poly.Event;\n  return function observe(node, attributeFilter) {\n    var options = {attributes: true, attributeOldValue: true};\n    var filtered = attributeFilter instanceof Array && attributeFilter.length;\n    if (filtered)\n      options.attributeFilter = attributeFilter.slice(0);\n    try {\n      (new MutationObserver(changes)).observe(node, options);\n    } catch(o_O) {\n      options.handleEvent = filtered ? handleEvent : attrModified;\n      node.addEventListener('DOMAttrModified', options, true);\n    }\n    return node;\n  };\n  function attrModified(event) {\n    dispatchEvent(event.target, event.attrName, event.prevValue);\n  }\n  function dispatchEvent(node, attributeName, oldValue) {\n    var event = new Event('attributechanged');\n    event.attributeName = attributeName;\n    event.oldValue = oldValue;\n    event.newValue = node.getAttribute(attributeName);\n    node.dispatchEvent(event);\n  }\n  function changes(records) {\n    for (var record, i = 0, length = records.length; i < length; i++) {\n      record = records[i];\n      dispatchEvent(record.target, record.attributeName, record.oldValue);\n    }\n  }\n  function handleEvent(event) {\n    if (-1 < this.attributeFilter.indexOf(event.attrName))\n      attrModified(event);\n  }\n}\nexport default attributechanged;\n","/*! (c) Andrea Giammarchi */\nfunction disconnected(poly) {'use strict';\n  var CONNECTED = 'connected';\n  var DISCONNECTED = 'dis' + CONNECTED;\n  var Event = poly.Event;\n  var WeakSet = poly.WeakSet;\n  var notObserving = true;\n  var observer = new WeakSet;\n  return function observe(node) {\n    if (notObserving) {\n      notObserving = !notObserving;\n      startObserving(node.ownerDocument);\n    }\n    observer.add(node);\n    return node;\n  };\n  function startObserving(document) {\n    var dispatched = null;\n    try {\n      (new MutationObserver(changes)).observe(\n        document,\n        {subtree: true, childList: true}\n      );\n    }\n    catch(o_O) {\n      var timer = 0;\n      var records = [];\n      var reschedule = function (record) {\n        records.push(record);\n        clearTimeout(timer);\n        timer = setTimeout(\n          function () {\n            changes(records.splice(timer = 0, records.length));\n          },\n          0\n        );\n      };\n      document.addEventListener(\n        'DOMNodeRemoved',\n        function (event) {\n          reschedule({addedNodes: [], removedNodes: [event.target]});\n        },\n        true\n      );\n      document.addEventListener(\n        'DOMNodeInserted',\n        function (event) {\n          reschedule({addedNodes: [event.target], removedNodes: []});\n        },\n        true\n      );\n    }\n    function changes(records) {\n      dispatched = new Tracker;\n      for (var\n        record,\n        length = records.length,\n        i = 0; i < length; i++\n      ) {\n        record = records[i];\n        dispatchAll(record.removedNodes, DISCONNECTED, CONNECTED);\n        dispatchAll(record.addedNodes, CONNECTED, DISCONNECTED);\n      }\n      dispatched = null;\n    }\n    function dispatchAll(nodes, type, counter) {\n      for (var\n        node,\n        event = new Event(type),\n        length = nodes.length,\n        i = 0; i < length;\n        (node = nodes[i++]).nodeType === 1 &&\n        dispatchTarget(node, event, type, counter)\n      );\n    }\n    function dispatchTarget(node, event, type, counter) {\n      if (observer.has(node) && !dispatched[type].has(node)) {\n        dispatched[counter].delete(node);\n        dispatched[type].add(node);\n        node.dispatchEvent(event);\n        /*\n        // The event is not bubbling (perf reason: should it?),\n        // hence there's no way to know if\n        // stop/Immediate/Propagation() was called.\n        // Should DOM Level 0 work at all?\n        // I say it's a YAGNI case for the time being,\n        // and easy to implement in user-land.\n        if (!event.cancelBubble) {\n          var fn = node['on' + type];\n          if (fn)\n            fn.call(node, event);\n        }\n        */\n      }\n      for (var\n        children = node.children,\n        length = children.length,\n        i = 0; i < length;\n        dispatchTarget(children[i++], event, type, counter)\n      );\n    }\n    function Tracker() {\n      this[CONNECTED] = new WeakSet;\n      this[DISCONNECTED] = new WeakSet;\n    }\n  }\n}\nexport default disconnected;\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nimport Event from './poorly/event.js';\nimport WeakSet from './poorly/weakset.js';\nimport assign from './poorly/assign.js';\n\nimport contains from './poly/contains.js';\nimport matches from './poly/matches.js';\n\nimport attributechanged from './3rd/attributechanged.js';\nimport disconnected from './3rd/disconnected.js';\n\nvar bootstrap = true;\n\nvar query = [];\nvar config = [];\nvar waiting = {};\nvar known = {};\n\nvar regularElements = {\n  Event: Event,\n  WeakSet: WeakSet,\n  assign: assign,\n  document: document,\n  define: function (selector, options) {\n    if (bootstrap) {\n      bootstrap = false;\n      init(regularElements.document);\n    }\n    var type = typeof selector;\n    if (type === 'string') {\n      if (-1 < query.indexOf(selector))\n        throw new Error('duplicated: ' + selector);\n      query.push(selector);\n      config.push(options || {});\n      ready();\n      if (selector in waiting) {\n        waiting[selector](config[config.length - 1]);\n        delete waiting[selector];\n      }\n    } else {\n      if (type !== \"object\" || selector.nodeType !== 1)\n        throw new Error('undefinable: ' + selector);\n      setupListeners(selector, options || {});\n    }\n  },\n  get: function (selector) {\n    var i = query.indexOf(selector);\n    return i < 0 ? null : assign({}, config[i]);\n  },\n  whenDefined: function (selector) {\n    return Promise.resolve(\n      regularElements.get(selector) ||\n      new Promise(function ($) {\n        waiting[selector] = $;\n      })\n    );\n  }\n};\n\n// passing along regularElements as poly for Event and WeakSet\nvar lifecycle = disconnected(regularElements);\nvar observe = {\n  attributechanged: attributechanged(regularElements),\n  connected: lifecycle,\n  disconnected: lifecycle\n};\n\nexport default regularElements;\nexport {regularElements, assign, Event, WeakSet};\n\nfunction changes(records) {\n  for (var i = 0, length = records.length; i < length; i++)\n    setupList(records[i].addedNodes, false);\n}\n\nfunction init(doc) {\n  try {\n    (new MutationObserver(changes))\n      .observe(doc, {subtree: true, childList: true});\n  }\n  catch(o_O) {\n    doc.addEventListener(\n      'DOMNodeInserted',\n      function (e) {\n        changes([{addedNodes: [e.target]}]);\n      },\n      false\n    );\n  }\n  if (doc.readyState !== 'complete')\n    doc.addEventListener('DOMContentLoaded', ready, {once: true});\n}\n\nfunction ready() {\n  if (query.length)\n    setupList(regularElements.document.querySelectorAll(query), true);\n}\n\nfunction setup(node) {\n  setupList(node.querySelectorAll(query), true);\n  for (var ws, css, i = 0, length = query.length; i < length; i++) {\n    css = query[i];\n    ws = known[css] || (known[css] = new WeakSet);\n    if (!ws.has(node) && matches(node, query[i])) {\n      ws.add(node);\n      setupListeners(node, config[i]);\n    }\n  }\n}\n\nfunction setupList(nodes, isElement) {\n  for (var node, i = 0, length = nodes.length; i < length; i++) {\n    node = nodes[i];\n    if (isElement || node.nodeType === 1)\n      setup(node);\n  }\n}\n\nfunction setupListener(node, options, type, dispatch) {\n  var method = options['on' + type];\n  if (method) {\n    observe[type](node, options.attributeFilter)\n      .addEventListener(type, method, false);\n    if (dispatch && contains.call(regularElements.document, node))\n      node.dispatchEvent(new Event(type));\n  }\n}\n\nfunction setupListeners(node, options) {\n  setupListener(node, options, 'attributechanged', false);\n  setupListener(node, options, 'disconnected', false);\n  setupListener(node, options, 'connected', true);\n}\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nimport regularElements, {WeakSet} from './3rd/regular-elements/index.js';\n\n// minifier friendly constants\nvar ATTRIBUTE_FILTER = 'attributeFilter';\nvar ONDISCONNECTED = 'ondisconnected';\nvar ONATTRIBUTECHANGED = 'onattributechanged';\n\n// one off scoped shortcut\nvar create = Object.create;\n\n// get() and whenDefined() are just the same\n// NOTE: the component is not returned,\n//       only its initial definition.\n//       This works well in terms of security\n//       so that a component prototype won't be\n//       exposed directly through the API.\nvar wickedElements = create(regularElements, {\n  define: {\n    value: function (selector, component) {\n      var ws = new WeakSet;\n      var definition = {onconnected: setup};\n      if (ONDISCONNECTED in component)\n        definition[ONDISCONNECTED] = setup;\n      if (ONATTRIBUTECHANGED in component) {\n        definition[ONATTRIBUTECHANGED] = setup;\n        definition[ATTRIBUTE_FILTER] = component[ATTRIBUTE_FILTER] || [];\n      }\n      addIfNeeded(component, 'init', init);\n      addIfNeeded(component, 'handleEvent', handleEvent);\n      regularElements.define(selector, definition);\n      function setup(event) {\n        var el = event.currentTarget;\n        var type = event.type;\n        el.removeEventListener(type, setup);\n        if (!ws.has(el)) {\n          ws.add(el);\n          bootstrap(component, event, el, 'on' + type);\n        }\n      }\n    }\n  }\n});\n\nexport default wickedElements;\n\nfunction addIfNeeded(component, key, value) {\n  if (!(key in component))\n    component[key] = value;\n}\n\nfunction bootstrap(component, event, el, method) {\n  var handler = create(component);\n  var invoke = false;\n  for (var key in component) {\n    if (key.slice(0, 2) === 'on') {\n      el.addEventListener(key.slice(2), handler, false);\n      if (key === method)\n        invoke = !invoke;\n    }\n  }\n  handler.init(event);\n  if (invoke)\n    handler.handleEvent(event);\n}\n\nfunction handleEvent(event) {\n  var type = 'on' + event.type;\n  if (type in this)\n    this[type](event);\n}\n\nfunction init(event) {\n  this.el = event.currentTarget;\n}\n","\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<any, Boolean>();\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive so that lit-html will call the function\n * during template rendering, rather than passing as a value.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object\n *\n * @example\n *\n * ```\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n * ```\n */\nexport const directive = <F extends Function>(f: F): F =>\n    ((...args: any[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as unknown as F;\n\nexport const isDirective = (o: any) =>\n    typeof o === 'function' && directives.has(o);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as any).polyfillWrapFlushCallback !== undefined;\n\n/**\n * Reparents nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), into another container (could be the same container), before\n * `beforeNode`. If `beforeNode` is null, it appends the nodes to the\n * container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      let node = start;\n      while (node !== end) {\n        const n = node!.nextSibling;\n        container.insertBefore(node!, before as Node);\n        node = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), from `container`.\n */\nexport const removeNodes =\n    (container: Node, startNode: Node|null, endNode: Node|null = null):\n        void => {\n          let node = startNode;\n          while (node !== endNode) {\n            const n = node!.nextSibling;\n            container.removeChild(node!);\n            node = n;\n          }\n        };\n","/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  value: any;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: any): void;\n\n  /**\n   * Commits the current part value, cause it to actually be written to the DOM.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  parts: TemplatePart[] = [];\n  element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n    let index = -1;\n    let partIndex = 0;\n    const nodesToRemove: Node[] = [];\n    const _prepareTemplate = (template: HTMLTemplateElement) => {\n      const content = template.content;\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          content,\n          133 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT |\n                 NodeFilter.SHOW_TEXT */\n          ,\n          null as any,\n          false);\n      // The actual previous node, accounting for removals: if a node is removed\n      // it will never be the previousNode.\n      let previousNode: Node|undefined;\n      // Used to set previousNode at the top of the loop.\n      let currentNode: Node|undefined;\n      while (walker.nextNode()) {\n        index++;\n        previousNode = currentNode;\n        const node = currentNode = walker.currentNode as Element;\n        if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n          if (node.hasAttributes()) {\n            const attributes = node.attributes;\n            // Per\n            // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n            // attributes are not guaranteed to be returned in document order.\n            // In particular, Edge/IE can return them out of order, so we cannot\n            // assume a correspondance between part index and attribute index.\n            let count = 0;\n            for (let i = 0; i < attributes.length; i++) {\n              if (attributes[i].value.indexOf(marker) >= 0) {\n                count++;\n              }\n            }\n            while (count-- > 0) {\n              // Get the template literal section leading up to the first\n              // expression in this attribute\n              const stringForPart = result.strings[partIndex];\n              // Find the attribute name\n              const name = lastAttributeNameRegex.exec(stringForPart)![2];\n              // Find the corresponding attribute\n              // All bound attributes have had a suffix added in\n              // TemplateResult#getHTML to opt out of special attribute\n              // handling. To look up the attribute value we also need to add\n              // the suffix.\n              const attributeLookupName =\n                  name.toLowerCase() + boundAttributeSuffix;\n              const attributeValue = node.getAttribute(attributeLookupName)!;\n              const strings = attributeValue.split(markerRegex);\n              this.parts.push({type: 'attribute', index, name, strings});\n              node.removeAttribute(attributeLookupName);\n              partIndex += strings.length - 1;\n            }\n          }\n          if (node.tagName === 'TEMPLATE') {\n            _prepareTemplate(node as HTMLTemplateElement);\n          }\n        } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n          const nodeValue = node.nodeValue!;\n          if (nodeValue.indexOf(marker) < 0) {\n            continue;\n          }\n          const parent = node.parentNode!;\n          const strings = nodeValue.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // We have a part for each match found\n          partIndex += lastIndex;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            parent.insertBefore(\n                (strings[i] === '') ? createMarker() :\n                                      document.createTextNode(strings[i]),\n                node);\n            this.parts.push({type: 'node', index: index++});\n          }\n          parent.insertBefore(\n              strings[lastIndex] === '' ?\n                  createMarker() :\n                  document.createTextNode(strings[lastIndex]),\n              node);\n          nodesToRemove.push(node);\n        } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n          if (node.nodeValue === marker) {\n            const parent = node.parentNode!;\n            // Add a new marker node to be the startNode of the Part if any of\n            // the following are true:\n            //  * We don't have a previousSibling\n            //  * previousSibling is being removed (thus it's not the\n            //    `previousNode`)\n            //  * previousSibling is not a Text node\n            //\n            // TODO(justinfagnani): We should be able to use the previousNode\n            // here as the marker node and reduce the number of extra nodes we\n            // add to a template. See\n            // https://github.com/PolymerLabs/lit-html/issues/147\n            const previousSibling = node.previousSibling;\n            if (previousSibling === null || previousSibling !== previousNode ||\n                previousSibling.nodeType !== Node.TEXT_NODE) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            this.parts.push({type: 'node', index: index++});\n            nodesToRemove.push(node);\n            // If we don't have a nextSibling add a marker node.\n            // We don't have to check if the next node is going to be removed,\n            // because that node will induce a new marker if so.\n            if (node.nextSibling === null) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            currentNode = previousNode;\n            partIndex++;\n          } else {\n            let i = -1;\n            while ((i = node.nodeValue!.indexOf(marker, i + 1)) !== -1) {\n              // Comment node has a binding marker inside, make an inactive part\n              // The binding won't work, but subsequent bindings will\n              // TODO (justinfagnani): consider whether it's even worth it to\n              // make bindings in comments work\n              this.parts.push({type: 'node', index: -1});\n            }\n          }\n        }\n      }\n    };\n    _prepareTemplate(element);\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  type: 'node',\n  index: number\n}|{type: 'attribute', index: number, name: string, strings: string[]};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#attributes-0\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-character\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \\x09\\x0a\\x0c\\x0d\"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  _parts: Array<Part|undefined> = [];\n  processor: TemplateProcessor;\n  options: RenderOptions;\n  template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: any[]) {\n    let i = 0;\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // When using the Custom Elements polyfill, clone the node, rather than\n    // importing it, to keep the fragment in the template's document. This\n    // leaves the fragment inert so custom elements won't upgrade and\n    // potentially modify their contents by creating a polyfilled ShadowRoot\n    // while we traverse the tree.\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const parts = this.template.parts;\n    let partIndex = 0;\n    let nodeIndex = 0;\n    const _prepareInstance = (fragment: DocumentFragment) => {\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          fragment,\n          133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n          null as any,\n          false);\n      let node = walker.nextNode();\n      // Loop through all the nodes and parts of a template\n      while (partIndex < parts.length && node !== null) {\n        const part = parts[partIndex];\n        // Consecutive Parts may have the same node index, in the case of\n        // multiple bound attributes on an element. So each iteration we either\n        // increment the nodeIndex, if we aren't on a node with a part, or the\n        // partIndex if we are. By not incrementing the nodeIndex when we find a\n        // part, we allow for the next part to be associated with the current\n        // node if neccessasry.\n        if (!isTemplatePartActive(part)) {\n          this._parts.push(undefined);\n          partIndex++;\n        } else if (nodeIndex === part.index) {\n          if (part.type === 'node') {\n            const part = this.processor.handleTextExpression(this.options);\n            part.insertAfterNode(node);\n            this._parts.push(part);\n          } else {\n            this._parts.push(...this.processor.handleAttributeExpressions(\n                node as Element, part.name, part.strings, this.options));\n          }\n          partIndex++;\n        } else {\n          nodeIndex++;\n          if (node.nodeName === 'TEMPLATE') {\n            _prepareInstance((node as HTMLTemplateElement).content);\n          }\n          node = walker.nextNode();\n        }\n      }\n    };\n    _prepareInstance(fragment);\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  strings: TemplateStringsArray;\n  values: any[];\n  type: string;\n  processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: any[], type: string,\n      processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const endIndex = this.strings.length - 1;\n    let html = '';\n    for (let i = 0; i < endIndex; i++) {\n      const s = this.strings[i];\n      // This replace() call does two things:\n      // 1) Appends a suffix to all bound attribute names to opt out of special\n      // attribute value parsing that IE11 and Edge do, like for style and\n      // many SVG attributes. The Template class also appends the same suffix\n      // when looking up attributes to creat Parts.\n      // 2) Adds an unquoted-attribute-safe marker for the first expression in\n      // an attribute. Subsequent attribute expressions will use node markers,\n      // and this is safe since attributes with multiple expressions are\n      // guaranteed to be quoted.\n      let addedMarker = false;\n      html += s.replace(\n          lastAttributeNameRegex, (_match, whitespace, name, value) => {\n            addedMarker = true;\n            return whitespace + name + boundAttributeSuffix + value + marker;\n          });\n      if (!addedMarker) {\n        html += nodeMarker;\n      }\n    }\n    return html + this.strings[endIndex];\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTMl in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\nexport const isPrimitive = (value: any) =>\n    (value === null ||\n     !(typeof value === 'object' || typeof value === 'function'));\n\n/**\n * Sets attribute values for AttributeParts, so that the value is only set once\n * even if there are multiple parts for an attribute.\n */\nexport class AttributeCommitter {\n  element: Element;\n  name: string;\n  strings: string[];\n  parts: AttributePart[];\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      this.parts[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): any {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (v != null &&\n            (Array.isArray(v) || typeof v !== 'string' && v[Symbol.iterator])) {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        } else {\n          text += typeof v === 'string' ? v : String(v);\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue());\n    }\n  }\n}\n\nexport class AttributePart implements Part {\n  committer: AttributeCommitter;\n  value: any = undefined;\n\n  constructor(comitter: AttributeCommitter) {\n    this.committer = comitter;\n  }\n\n  setValue(value: any): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\nexport class NodePart implements Part {\n  options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Inserts this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part between `ref` and `ref`'s next sibling. Both `ref` and\n   * its next sibling must be static, unchanging nodes such as those that appear\n   * in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part._insert(this.startNode = createMarker());\n    part._insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Appends this part after `ref`\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref._insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    const value = this._pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this._commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this._commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this._commitNode(value);\n    } else if (Array.isArray(value) || value[Symbol.iterator]) {\n      this._commitIterable(value);\n    } else {\n      // Fallback, will render the string representation\n      this._commitText(value);\n    }\n  }\n\n  private _insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private _commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this._insert(value);\n    this.value = value;\n  }\n\n  private _commitText(value: string): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === Node.TEXT_NODE) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      node.textContent = value;\n    } else {\n      this._commitNode(document.createTextNode(\n          typeof value === 'string' ? value : String(value)));\n    }\n    this.value = value;\n  }\n\n  private _commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value && this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this._commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private _commitIterable(value: any): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart!.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  element: Element;\n  name: string;\n  strings: string[];\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n    const value = !!this._pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n    }\n    this.value = value;\n    this._pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  single: boolean;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  window.addEventListener('test', options as any, options);\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\nexport class EventPart implements Part {\n  element: Element;\n  eventName: string;\n  eventContext?: EventTarget;\n  value: any = undefined;\n  _options?: AddEventListenerOptions;\n  _pendingValue: any = undefined;\n  _boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this._boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this._pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    if (shouldAddListener) {\n      this._options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    this.value = newListener;\n    this._pendingValue = noChange;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      this.value.handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: any) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): Part[] {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const comitter = new PropertyCommitter(element, name.slice(1), strings);\n      return comitter.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const comitter = new AttributeCommitter(element, name, strings);\n    return comitter.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  stringsArray: WeakMap<TemplateStringsArray, Template>;\n  keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\nimport {TemplateResult} from './template-result.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: any[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: any[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","import {html, render} from 'lit-html';\n\nexport function debounceRender(object) {\n  let requested = false;\n  const renderFunc = () => {\n    requested = false;\n    render(object.render(object), object.element);\n  };\n  return () => {\n    if (requested) return;\n    requested = true;\n    requestAnimationFrame(renderFunc);\n  }\n}\n","import { debounceRender } from './debounce-render';\n\nexport function withProps(def) {\n\n  const def2 = Object.create(def);\n  const oldInit = def2.init;\n  def2.init = function (event) {\n\n    this.element = event.currentTarget;\n    this.requestRender = debounceRender(this);\n\n    if (oldInit) {\n      oldInit.call(this, event);\n    }\n    else {\n      this.requestRender();\n    }\n    observeProperties(this, event);\n  }\n  return def2;\n};\n\nfunction observeProperties(object) {\n\n  const props = object.observedProperties;\n  if (!props || !props.length) {\n    object.requestRender();\n    return;\n  };\n\n  const element = object.element;\n  for (let prop of props) {\n\n    // if the component already has a property of this\n    // name then save it for later\n    const hasProp = element.hasOwnProperty(prop)\n    let initValue;\n    if (hasProp) {\n      initValue = element[prop];\n      delete element[prop];\n    }\n\n    // define getters and setters for this property name\n    Object.defineProperty(element, prop, {\n\n      get() {\n        return object[prop]\n      },\n\n      set(value) {\n        const oldValue = object[prop];\n        object[prop] = value;\n        if (oldValue !== value && object.propertyChanged) {\n          object.propertyChanged(\n            prop, value, oldValue\n          );\n        }\n        object.requestRender();\n      }\n    });\n\n    // if we saved an old property value earlier\n    // reassign it to the component\n\n    if (hasProp) {\n      element[prop] = initValue;\n    }\n  }\n}\n","let [hidden, visibilityChange] = (typeof document.msHidden !== 'undefined') ?\n  ['msHidden', 'msvisibilitychange'] : (typeof document.webkitHidden !== 'undefined') ?\n    ['webkitHidden', 'webkitvisibilitychange'] : ['hidden', 'visibilitychange'];\n\nexport function isHidden() {\n  return document[hidden];\n}\n\nexport function addVisibilityListener(func) {\n  document.addEventListener(visibilityChange, func, false);\n}\n\nexport function removeVisiblityListener(func) {\n  document.removeEventListener(visibilityChange, func, false);\n}\n","export { withProps } from './with-props';\nexport { debounceRender } from './debounce-render';\nexport { isHidden, addVisibilityListener, removeVisiblityListener} from './page-visibility';","var AudioContext = window.AudioContext // Default\n    || window.webkitAudioContext // Safari and old versions of Chrome\n    || false;\n\nlet audioCtx;\nlet source1;\nlet active = false;\n\nfunction init() {\n    audioCtx = new AudioContext();\n    if (source1) source1.stop();\n    source1 = audioCtx.createOscillator();\n    source1.type = 'square';\n    source1.frequency.value = 440;\n    source1.connect(audioCtx.destination);\n    source1.start();\n}\n\nexport function audioValue(value) {\n    if (value != null && active) {\n        source1.frequency.setValueAtTime(value, audioCtx.currentTime);\n    }\n}\n\nexport function isAudioPlaying() {\n    return active;\n}\n\nexport function audioInit() {\n    if (!audioCtx) {\n        init();\n    }\n    active = true;\n}\n\nexport function audioPlay(state) {\n    if (!audioCtx) {\n        init();\n    }\n    if (active === state) return;\n    if (active) {\n        audioCtx.suspend();\n        active = false;\n    }\n    else {\n        audioCtx.resume();\n        active = true;\n    }\n}\n\nexport function audioToggle() {\n    if (active)\n        audioPause();\n    else\n        audioPlay();\n}","import { html } from 'lit-html'\nimport { withProps, isHidden, addVisibilityListener, removeVisiblityListener } from '../util';\nimport tec1Image from '../assets/TEC-1.jpg';\nimport {audioInit, audioPlay, audioValue} from '../util/audio';\n\nconst keyMap = {\n    Digit0: 0x00, Digit1: 0x01, Digit2: 0x02, Digit3: 0x03,\n    Digit4: 0x04, Digit5: 0x05, Digit6: 0x06, Digit7: 0x07,\n    Digit8: 0x08, Digit9: 0x09,\n    KeyA: 0x0A, KeyB: 0x0B, KeyC: 0x0C, KeyD: 0x0D,\n    KeyE: 0x0E, KeyF: 0x0F,\n    Space: 0x13, Tab: 0x13,\n    Enter: 0x12, Minus: 0x11,\n    ArrowDown: 0x11, ArrowUp: 0x10,\n};\n\nexport const wickedTec1 = withProps({\n\n    init: function (event) {\n        this.digits = 0;\n        this.segments = 0;\n        this.display = Array(6).fill(0);\n        this.handleVisibility = this.handleVisibility.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.classic = localStorage.getItem('classic') === 'true';\n        this.speed = localStorage.getItem('speed');\n    },\n\n    onconnected(event) {\n        this.worker = new Worker('../worker/worker.js');\n        this.worker.onmessage = event => {\n            let view = new Uint8Array(event.data.buffer);\n            this.digits = view[1];\n            this.segments = view[2];\n            this.requestRender();\n            this.display = [...new Uint8Array(event.data.display)];\n            this.wavelength = event.data.wavelength;\n            this.frequency = this.wavelength ? 500000/this.wavelength : 0;\n            audioValue(this.frequency);\n        }\n        this.worker.postMessage({ type: 'INIT' });\n        this.postSpeed(this.speed);\n        document.addEventListener(\"keydown\", this.handleKeyDown);\n        addVisibilityListener(this.handleVisibility);\n    },\n\n    ondisconnected(event) {\n        this.worker.terminate();\n        document.removeEventListener(\"keydown\", this.handleKeyDown);\n        removeVisiblityListener(this.handleVisibility);\n    },\n\n    handleVisibility() {\n        console.log('isHidden', isHidden());\n        audioPlay(!isHidden());\n        this.worker.postMessage({ type: 'HIDDEN', value: isHidden() });\n    },\n\n    handleKeyDown(event) {\n\n        if (this.handleButton(event.code, event.shiftKey, event.ctrlKey)) {\n            event.preventDefault();\n        }\n        else {\n            console.log(event, event.code, event.key);\n        }\n    },\n\n    handleButton(code, shiftKey, ctrlKey) {\n        audioInit();\n        if (code === 'Escape') {\n            this.worker.postMessage({ type: 'RESET' });\n            return true;\n        }\n        if (code === 'Space') {\n            this.worker.postMessage({ type: 'PAUSE' });\n            return true;\n        }\n        else if (code in keyMap) {\n            let keyCode = keyMap[code];\n            if (shiftKey) {\n                keyCode = keyCode | 0x80;\n            }\n            this.worker.postMessage({ type: 'SET_INPUT_VALUE', port: 0, value: keyCode });\n            this.worker.postMessage({ type: 'NMI' });\n            return true;\n        }\n    },\n\n    handleUpload(event) {\n        const files = event.target.files;\n        if (files == null || files.length === 0) return;\n        const file = files[0];\n        const reader = new FileReader();\n        reader.onload = () => {\n            this.worker.postMessage({ type: 'UPDATE_MEMORY', value: reader.result });\n        }\n        reader.readAsText(file);\n    },\n\n    postSpeed(speed) {\n        this.worker.postMessage({ type: 'SET_SPEED', value: speed });\n    },\n\n    render({ digits, segments, display, wavelength, frequency }) {\n        return html`\n<style>\n    body {\n        font-family: sans-serif;\n    }\n    #tec1 {\n        width: 600px;\n        height: 375px;\n        background-image: url(${tec1Image});\n        background-size: 100% 100%;\n        position: relative;\n    }\n\n    #digitPane {\n        direction: rtl;\n        padding: 0px 20px;\n        position: relative;\n        top: 74.4%;\n        right: 42.5%;\n    }\n\n    .off {\n        fill: #320000;\n    }\n\n    .on {\n        fill: red;\n    }\n\n    [is=key-button] {\n        height: 0px;\n    }\n\n    [is=key-button] {\n        position: absolute;\n        background-color: #cd3d45;\n        color: black;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-family: sans-serif;\n        font-size: 13px;\n        font-weight: bold;\n        width: 20px;\n        height: 20px;\n        border-radius: 10px;\n        left: 438px;\n        top: 301px;\n    }\n</style>\n<div style=\"display:inline-block\">\n    <div id=\"tec1\">\n        ${  this.classic ?\n            html`<div is=\"keypad-classic\" @click=${(event) => this.handleButton(event.detail.code)}></div>` :\n            html`<div is=\"keypad-modern\" @click=${(event) => this.handleButton(event.detail.code)}></div>`\n        }\n        <div is=\"key-button\" .text=${ 'R'}  .color=${ '#cd3d45'} .left=${349} .top=${301} @click=${() => this.handleButton('Escape')}></div>\n\n        <div id=\"digitPane\">\n            <div id=\"seven\" is=\"seven-seg-display\" .digits=${digits} .segments=${segments} .display=${display}></div>\n        </div>\n    </div>\n    <div style=\"display:flex; justify-content:space-between;\">\n        <div>\n            <input type=\"checkbox\"\n                ?checked=${this.classic}\n                @change=${event => {\n                    this.classic = event.target.checked;\n                    localStorage.setItem('classic', String(this.classic))\n                }}\n                >original key layout\n        </div>\n        <input type=\"file\" @change=${event => this.handleUpload(event)}>\n        <div>\n            Speed\n            <input\n                type=\"range\"\n                min=\"0\"\n                max=\"99\"\n                value=${this.speed || \"50\"}\n                @change=${event => {\n                    this.speed = event.target.value;\n                    localStorage.setItem('speed', String(this.speed))\n                    this.worker.postMessage({ type: 'SET_SPEED', value: this.speed });\n                    this.postSpeed(this.speed);\n                }}\n                >\n        </div>\n    </div>\n    <p>MON 1 Restarts:</p>\n    <div style=\"display:flex; justify-content:space-between\">\n        <div>\n            <div>CF (RST 1)\tINVADERS</div>\n            <div>D7 (RST 2)\tNIM</div>\n            <div>DF (RST 3)\tLUNALANDER</div>\n        </div>\n        <div>\n            <div>EF (RST 5)\tTUNE 1 Bealach An Doirn</div>\n            <div>F7 (RST 6)\tTUNE 2 Biking up the Strand</div>\n        </div>\n    </div>\n</div>\n<!-- <div is=\"instructions\" style=\"margin-left: 35px\"></div> -->\n`;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nexport const sevenSegDisplay = withProps({\n\n    init(event) {\n        this.display0 = Array(6).fill(0);\n        this.display = [...this.display0];\n        this.blanks = 0\n    },\n\n    get observedProperties() {\n        return ['digits', 'segments', 'display'];\n    },\n\n    render({ digits, segments, display }) {\n        return html`\n<div style=\"white-space: nowrap;\">${display.map((segs, index) => html`\n<span is=\"seven-seg\" style=${index == 1 ? 'margin-left:2.2%' : ''} .segments=${segs}>\n</div>`)}</span>\n`;\n    },\n\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nexport const sevenSeg = withProps({\n\n    get observedProperties() {\n        return ['segments'];\n    },\n\n    render({ segments }) {\n        return html`\n            <div style=\"display:inline-block;width:4.35%;margin-left:1.7%;\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -1 12 20\">\n                    <g class=\"digit\">\n                        <polygon id=\"a\" class=${segments & 0x01 ? 'on' : 'off'} points=\" 1, 1  2, 0  8, 0  9, 1  8, 2  2, 2\" />\n                        <polygon id=\"b\" class=${segments & 0x08 ? 'on' : 'off'} points=\" 9, 1 10, 2 10, 8  9, 9  8, 8  8, 2\" />\n                        <polygon id=\"c\" class=${segments & 0x20 ? 'on' : 'off'} points=\" 9, 9 10,10 10,16  9,17  8,16  8,10\" />\n                        <polygon id=\"d\" class=${segments & 0x80 ? 'on' : 'off'} points=\" 9,17  8,18  2,18  1,17  2,16  8,16\" />\n                        <polygon id=\"e\" class=${segments & 0x40 ? 'on' : 'off'} points=\" 1,17  0,16  0,10  1, 9  2,10  2,16\" />\n                        <polygon id=\"f\" class=${segments & 0x02 ? 'on' : 'off'} points=\" 1, 9  0, 8  0, 2  1, 1  2, 2  2, 8\" />\n                        <polygon id=\"g\" class=${segments & 0x04 ? 'on' : 'off'} points=\" 1, 9  2, 8  8, 8  9, 9  8,10  2,10\" />\n                        <circle class=${segments & 0x10 ? 'on' : 'off'} cx=\"11\" cy=\"17\" r=\"1\" />\n                    </g>\n                </svg>\n            </div>\n        `;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nexport const instructions = withProps({\n\n    render({ segments }) {\n        return html`\n        <h1>TEC-1</h1>\n        <table style=\"width: 600px\">\n            <tbody>\n                <tr style=\"text-align: left;\">\n                    <th>Key</th>\n                    <th>Description</th>\n                    <th>TEC-1</th>\n                </tr>\n                <tr>\n                    <td>0-9,A-F</td>\n                    <td>Hex digits</td>\n                    <td></td>\n                </tr>\n                <tr>\n                    <td>ESC</td>\n                    <td>Reset</td>\n                    <td>(RES)</td>\n                </tr>\n                <tr>\n                    <td>tab</td>\n                    <td>Mode</td>\n                    <td>(AD)</td>\n                </tr>\n                <tr>\n                    <td>Enter</td>\n                    <td>Run</td>\n                    <td>(GO)</td>\n                </tr>\n                <tr>\n                    <td>Arrow Up</td>\n                    <td>Increase</td>\n                    <td>(+)</td>\n                </tr>\n                <tr>\n                    <td>Arrow Down</td>\n                    <td>Decrease</td>\n                    <td>(-)</td>\n                </tr>\n                <tr>\n                    <td>Space</td>\n                    <td>Pause/Resume</td>\n                    <td></td>\n                </tr>\n            </tbody>\n        </table>\n`;\n    }\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nexport const keyButton = withProps({\n\n    get observedProperties() {\n        return ['text','color','left','top'];\n    },\n\n    render({ text, color, left, top }) {\n        this.element.style = `background-color:${color};left:${left}px;top:${top}px`;\n        return html`\n            ${text}\n        `;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nexport const keyPadClassic = withProps({\n\n    handleButton(code) {\n        const event = new CustomEvent('click', {\n            detail: {\n                code: code,\n            },\n        });\n        this.element.dispatchEvent(event);\n    },\n\n    render() {\n        return html`\n<div is=\"key-button\" .text=${ 'AD'} .color=${ '#cd3d45'} .left=${438} .top=${239} @click=${() => this.handleButton('Tab')}></div>\n<div is=\"key-button\" .text=${ '3'} .color=${ '#efedeb'} .left=${468} .top=${239} @click=${() => this.handleButton('Digit3')}></div>\n<div is=\"key-button\" .text=${ '7'}  .color=${ '#efedeb'} .left=${500} .top=${239} @click=${() => this.handleButton('Digit7')}></div>\n<div is=\"key-button\" .text=${ 'B'} .color=${ '#efedeb'} .left=${531} .top=${239} @click=${() => this.handleButton('KeyB')}></div>\n<div is=\"key-button\" .text=${ 'F'} .color=${ '#efedeb'} .left=${562} .top=${239} @click=${() => this.handleButton('KeyF')}></div>\n\n<div is=\"key-button\" .text=${ 'GO'} .color=${ '#cd3d45'} .left=${438} .top=${270} @click=${() => this.handleButton('Enter')}></div>\n<div is=\"key-button\" .text=${ '2'} .color=${ '#efedeb'} .left=${468} .top=${270} @click=${() => this.handleButton('Digit2')}></div>\n<div is=\"key-button\" .text=${ '6'} .color=${ '#efedeb'} .left=${500} .top=${270} @click=${() => this.handleButton('Digit6')}></div>\n<div is=\"key-button\" .text=${ 'A'} .color=${ '#efedeb'} .left=${531} .top=${270} @click=${() => this.handleButton('KeyA')}></div>\n<div is=\"key-button\" .text=${ 'E'} .color=${ '#efedeb'} .left=${562} .top=${270} @click=${() => this.handleButton('KeyE')}></div>\n\n<div is=\"key-button\" .text=${ '-'}  .color=${ '#cd3d45'} .left=${438} .top=${301} @click=${() => this.handleButton('ArrowDown')}></div>\n<div is=\"key-button\" .text=${ '1'} .color=${ '#efedeb'} .left=${468} .top=${301} @click=${() => this.handleButton('Digit1')}></div>\n<div is=\"key-button\" .text=${ '5'} .color=${ '#efedeb'} .left=${500} .top=${301} @click=${() => this.handleButton('Digit5')}></div>\n<div is=\"key-button\" .text=${ '9'} .color=${ '#efedeb'} .left=${531} .top=${301} @click=${() => this.handleButton('Digit9')}></div>\n<div is=\"key-button\" .text=${ 'D'} .color=${ '#efedeb'} .left=${562} .top=${301} @click=${() => this.handleButton('KeyD')}></div>\n\n<div is=\"key-button\" .text=${ '+'}  .color=${ '#cd3d45'} .left=${438} .top=${331} @click=${() => this.handleButton('ArrowUp')}></div>\n<div is=\"key-button\" .text=${ '0'} .color=${ '#efedeb'} .left=${468} .top=${331} @click=${() => this.handleButton('Digit0')}></div>\n<div is=\"key-button\" .text=${ '4'} .color=${ '#efedeb'} .left=${500} .top=${332} @click=${() => this.handleButton('Digit4')}></div>\n<div is=\"key-button\" .text=${ '8'} .color=${ '#efedeb'} .left=${531} .top=${332} @click=${() => this.handleButton('Digit8')}></div>\n<div is=\"key-button\" .text=${ 'C'} .color=${ '#efedeb'} .left=${562} .top=${332} @click=${() => this.handleButton('KeyC')}></div>\n        `;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\nexport const keyPadModern = withProps({\n\n    handleButton(code) {\n        const event = new CustomEvent('click', {\n            detail: {\n                code: code,\n            },\n        });\n        this.element.dispatchEvent(event);\n    },\n\n    render() {\n        return html`\n<div is=\"key-button\" .text=${ 'AD'} .color=${ '#cd3d45'} .left=${438} .top=${239} @click=${() => this.handleButton('Tab')}></div>\n<div is=\"key-button\" .text=${ 'C'} .color=${ '#efedeb'} .left=${468} .top=${239} @click=${() => this.handleButton('KeyC')}></div>\n<div is=\"key-button\" .text=${ 'D'}  .color=${ '#efedeb'} .left=${500} .top=${239} @click=${() => this.handleButton('KeyD')}></div>\n<div is=\"key-button\" .text=${ 'E'} .color=${ '#efedeb'} .left=${531} .top=${239} @click=${() => this.handleButton('KeyE')}></div>\n<div is=\"key-button\" .text=${ 'F'} .color=${ '#efedeb'} .left=${562} .top=${239} @click=${() => this.handleButton('KeyF')}></div>\n\n<div is=\"key-button\" .text=${ 'GO'} .color=${ '#cd3d45'} .left=${438} .top=${270} @click=${() => this.handleButton('Enter')}></div>\n<div is=\"key-button\" .text=${ '8'} .color=${ '#efedeb'} .left=${468} .top=${270} @click=${() => this.handleButton('Digit8')}></div>\n<div is=\"key-button\" .text=${ '9'} .color=${ '#efedeb'} .left=${500} .top=${270} @click=${() => this.handleButton('Digit9')}></div>\n<div is=\"key-button\" .text=${ 'A'} .color=${ '#efedeb'} .left=${531} .top=${270} @click=${() => this.handleButton('KeyA')}></div>\n<div is=\"key-button\" .text=${ 'B'} .color=${ '#efedeb'} .left=${562} .top=${270} @click=${() => this.handleButton('KeyB')}></div>\n\n<div is=\"key-button\" .text=${ '+'}  .color=${ '#cd3d45'} .left=${438} .top=${301} @click=${() => this.handleButton('ArrowUp')}></div>\n<div is=\"key-button\" .text=${ '4'} .color=${ '#efedeb'} .left=${468} .top=${301} @click=${() => this.handleButton('Digit4')}></div>\n<div is=\"key-button\" .text=${ '5'} .color=${ '#efedeb'} .left=${500} .top=${301} @click=${() => this.handleButton('Digit5')}></div>\n<div is=\"key-button\" .text=${ '6'} .color=${ '#efedeb'} .left=${531} .top=${301} @click=${() => this.handleButton('Digit6')}></div>\n<div is=\"key-button\" .text=${ '7'} .color=${ '#efedeb'} .left=${562} .top=${301} @click=${() => this.handleButton('Digit7')}></div>\n\n<div is=\"key-button\" .text=${ '-'}  .color=${ '#cd3d45'} .left=${438} .top=${331} @click=${() => this.handleButton('ArrowDown')}></div>\n<div is=\"key-button\" .text=${ '0'} .color=${ '#efedeb'} .left=${468} .top=${331} @click=${() => this.handleButton('Digit0')}></div>\n<div is=\"key-button\" .text=${ '1'} .color=${ '#efedeb'} .left=${500} .top=${332} @click=${() => this.handleButton('Digit1')}></div>\n<div is=\"key-button\" .text=${ '2'} .color=${ '#efedeb'} .left=${531} .top=${332} @click=${() => this.handleButton('Digit2')}></div>\n<div is=\"key-button\" .text=${ '3'} .color=${ '#efedeb'} .left=${562} .top=${332} @click=${() => this.handleButton('Digit3')}></div>\n        `;\n    },\n});\n","import wickedElements from 'wicked-elements';\n\nimport { wickedTec1 } from './components/wicked-tec1';\nimport { sevenSegDisplay } from './components/seven-seg-display';\nimport { sevenSeg } from './components/seven-seg';\nimport { instructions } from './components/instructions';\nimport { keyButton } from './components/key-button';\nimport { keyPadClassic } from './components/keypad-classic';\nimport { keyPadModern } from './components/keypad-modern';\n\nexport function initApp() {\n    wickedElements.define('[is=\"wicked-tec1\"]', wickedTec1);\n    wickedElements.define('[is=\"seven-seg-display\"]', sevenSegDisplay);\n    wickedElements.define('[is=\"seven-seg\"]', sevenSeg);\n    wickedElements.define('[is=\"instructions\"]', instructions);\n    wickedElements.define('[is=\"key-button\"]', keyButton);\n    wickedElements.define('[is=\"keypad-classic\"]', keyPadClassic);\n    wickedElements.define('[is=\"keypad-modern\"]', keyPadModern);\n}\n","import {initApp} from './app';\n\ninitApp();\n"]}