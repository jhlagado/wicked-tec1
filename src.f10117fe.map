{"version":3,"sources":["../src/lib/directive.ts","../src/lib/dom.ts","../src/lib/part.ts","../src/lib/template.ts","../src/lib/template-instance.ts","../src/lib/template-result.ts","../src/lib/parts.ts","../src/lib/default-template-processor.ts","../src/lib/template-factory.ts","../src/lib/render.ts","src/lit-html.ts","src/util/debounce-render.ts","src/util/with-props.ts","src/util/page-visibility.ts","src/util/index.ts","src/util/audio.ts","intel-hex.js","src/roms/MON-1A.ts","src/roms/MON-1B.ts","src/roms/MON-2.ts","src/roms/MON-1.ts","src/components/app-root.ts","src/components/seven-seg-display.ts","src/components/seven-seg.ts","src/components/instructions.ts","src/components/key-button.ts","src/components/keypad-classic.ts","src/components/keypad-modern.ts","node_modules/wicked-elements/esm/3rd/regular-elements/poorly/event.js","node_modules/wicked-elements/esm/3rd/regular-elements/poorly/weakset.js","node_modules/wicked-elements/esm/3rd/regular-elements/poorly/assign.js","node_modules/wicked-elements/esm/3rd/regular-elements/poly/contains.js","node_modules/wicked-elements/esm/3rd/regular-elements/poly/matches.js","node_modules/wicked-elements/esm/3rd/regular-elements/3rd/attributechanged.js","node_modules/wicked-elements/esm/3rd/regular-elements/3rd/disconnected.js","node_modules/wicked-elements/esm/3rd/regular-elements/index.js","node_modules/wicked-elements/esm/index.js","src/app.ts","src/index.ts"],"names":["const","let","this","i","l","blockAddr","blocks","block","$Event","Event","o_O","CustomEvent","type","e","document","createEvent","initEvent","$WeakSet","WeakSet","constructor","WeakMap","$","prototype","add","O","set","has","delete","Math","random","join","Object","defineProperty","value","configurable","hasOwnProperty","call","assign","target","o","arguments","length","k","contains","el","parentNode","indexOf","matches","documentElement","selector","matchesSelector","webkitMatchesSelector","khtmlMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","fallback","querySelectorAll","attributechanged","poly","observe","node","attributeFilter","options","attributes","attributeOldValue","filtered","Array","slice","MutationObserver","changes","handleEvent","attrModified","addEventListener","event","dispatchEvent","attrName","prevValue","attributeName","oldValue","newValue","getAttribute","records","record","disconnected","CONNECTED","DISCONNECTED","notObserving","observer","startObserving","ownerDocument","dispatched","subtree","childList","timer","reschedule","push","clearTimeout","setTimeout","splice","addedNodes","removedNodes","Tracker","dispatchAll","nodes","counter","nodeType","dispatchTarget","children","bootstrap","query","config","waiting","known","regularElements","define","init","Error","ready","setupListeners","get","whenDefined","Promise","resolve","lifecycle","connected","setupList","doc","readyState","once","setup","ws","css","isElement","setupListener","dispatch","method","ATTRIBUTE_FILTER","ONDISCONNECTED","ONATTRIBUTECHANGED","create","wickedElements","component","definition","onconnected","addIfNeeded","currentTarget","removeEventListener","key","handler","invoke"],"mappings":"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","file":"src.f10117fe.map","sourceRoot":"..","sourcesContent":["\n/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<any, Boolean>();\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive so that lit-html will call the function\n * during template rendering, rather than passing as a value.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object\n *\n * @example\n *\n * ```\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n * ```\n */\nexport const directive = <F extends Function>(f: F): F =>\n    ((...args: any[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as unknown as F;\n\nexport const isDirective = (o: any) =>\n    typeof o === 'function' && directives.has(o);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nexport const isCEPolyfill = window.customElements !== undefined &&\n    (window.customElements as any).polyfillWrapFlushCallback !== undefined;\n\n/**\n * Reparents nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), into another container (could be the same container), before\n * `beforeNode`. If `beforeNode` is null, it appends the nodes to the\n * container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      let node = start;\n      while (node !== end) {\n        const n = node!.nextSibling;\n        container.insertBefore(node!, before as Node);\n        node = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `startNode` (inclusive) to `endNode`\n * (exclusive), from `container`.\n */\nexport const removeNodes =\n    (container: Node, startNode: Node|null, endNode: Node|null = null):\n        void => {\n          let node = startNode;\n          while (node !== endNode) {\n            const n = node!.nextSibling;\n            container.removeChild(node!);\n            node = n;\n          }\n        };\n","/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  value: any;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: any): void;\n\n  /**\n   * Commits the current part value, cause it to actually be written to the DOM.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updateable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  parts: TemplatePart[] = [];\n  element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n    let index = -1;\n    let partIndex = 0;\n    const nodesToRemove: Node[] = [];\n    const _prepareTemplate = (template: HTMLTemplateElement) => {\n      const content = template.content;\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          content,\n          133 /* NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT |\n                 NodeFilter.SHOW_TEXT */\n          ,\n          null as any,\n          false);\n      // The actual previous node, accounting for removals: if a node is removed\n      // it will never be the previousNode.\n      let previousNode: Node|undefined;\n      // Used to set previousNode at the top of the loop.\n      let currentNode: Node|undefined;\n      while (walker.nextNode()) {\n        index++;\n        previousNode = currentNode;\n        const node = currentNode = walker.currentNode as Element;\n        if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n          if (node.hasAttributes()) {\n            const attributes = node.attributes;\n            // Per\n            // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n            // attributes are not guaranteed to be returned in document order.\n            // In particular, Edge/IE can return them out of order, so we cannot\n            // assume a correspondance between part index and attribute index.\n            let count = 0;\n            for (let i = 0; i < attributes.length; i++) {\n              if (attributes[i].value.indexOf(marker) >= 0) {\n                count++;\n              }\n            }\n            while (count-- > 0) {\n              // Get the template literal section leading up to the first\n              // expression in this attribute\n              const stringForPart = result.strings[partIndex];\n              // Find the attribute name\n              const name = lastAttributeNameRegex.exec(stringForPart)![2];\n              // Find the corresponding attribute\n              // All bound attributes have had a suffix added in\n              // TemplateResult#getHTML to opt out of special attribute\n              // handling. To look up the attribute value we also need to add\n              // the suffix.\n              const attributeLookupName =\n                  name.toLowerCase() + boundAttributeSuffix;\n              const attributeValue = node.getAttribute(attributeLookupName)!;\n              const strings = attributeValue.split(markerRegex);\n              this.parts.push({type: 'attribute', index, name, strings});\n              node.removeAttribute(attributeLookupName);\n              partIndex += strings.length - 1;\n            }\n          }\n          if (node.tagName === 'TEMPLATE') {\n            _prepareTemplate(node as HTMLTemplateElement);\n          }\n        } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n          const nodeValue = node.nodeValue!;\n          if (nodeValue.indexOf(marker) < 0) {\n            continue;\n          }\n          const parent = node.parentNode!;\n          const strings = nodeValue.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // We have a part for each match found\n          partIndex += lastIndex;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            parent.insertBefore(\n                (strings[i] === '') ? createMarker() :\n                                      document.createTextNode(strings[i]),\n                node);\n            this.parts.push({type: 'node', index: index++});\n          }\n          parent.insertBefore(\n              strings[lastIndex] === '' ?\n                  createMarker() :\n                  document.createTextNode(strings[lastIndex]),\n              node);\n          nodesToRemove.push(node);\n        } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n          if (node.nodeValue === marker) {\n            const parent = node.parentNode!;\n            // Add a new marker node to be the startNode of the Part if any of\n            // the following are true:\n            //  * We don't have a previousSibling\n            //  * previousSibling is being removed (thus it's not the\n            //    `previousNode`)\n            //  * previousSibling is not a Text node\n            //\n            // TODO(justinfagnani): We should be able to use the previousNode\n            // here as the marker node and reduce the number of extra nodes we\n            // add to a template. See\n            // https://github.com/PolymerLabs/lit-html/issues/147\n            const previousSibling = node.previousSibling;\n            if (previousSibling === null || previousSibling !== previousNode ||\n                previousSibling.nodeType !== Node.TEXT_NODE) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            this.parts.push({type: 'node', index: index++});\n            nodesToRemove.push(node);\n            // If we don't have a nextSibling add a marker node.\n            // We don't have to check if the next node is going to be removed,\n            // because that node will induce a new marker if so.\n            if (node.nextSibling === null) {\n              parent.insertBefore(createMarker(), node);\n            } else {\n              index--;\n            }\n            currentNode = previousNode;\n            partIndex++;\n          } else {\n            let i = -1;\n            while ((i = node.nodeValue!.indexOf(marker, i + 1)) !== -1) {\n              // Comment node has a binding marker inside, make an inactive part\n              // The binding won't work, but subsequent bindings will\n              // TODO (justinfagnani): consider whether it's even worth it to\n              // make bindings in comments work\n              this.parts.push({type: 'node', index: -1});\n            }\n          }\n        }\n      }\n    };\n    _prepareTemplate(element);\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  type: 'node',\n  index: number\n}|{type: 'attribute', index: number, name: string, strings: string[]};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#attributes-0\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-character\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \\x09\\x0a\\x0c\\x0d\"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  _parts: Array<Part|undefined> = [];\n  processor: TemplateProcessor;\n  options: RenderOptions;\n  template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: any[]) {\n    let i = 0;\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this._parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // When using the Custom Elements polyfill, clone the node, rather than\n    // importing it, to keep the fragment in the template's document. This\n    // leaves the fragment inert so custom elements won't upgrade and\n    // potentially modify their contents by creating a polyfilled ShadowRoot\n    // while we traverse the tree.\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const parts = this.template.parts;\n    let partIndex = 0;\n    let nodeIndex = 0;\n    const _prepareInstance = (fragment: DocumentFragment) => {\n      // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be\n      // null\n      const walker = document.createTreeWalker(\n          fragment,\n          133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n          null as any,\n          false);\n      let node = walker.nextNode();\n      // Loop through all the nodes and parts of a template\n      while (partIndex < parts.length && node !== null) {\n        const part = parts[partIndex];\n        // Consecutive Parts may have the same node index, in the case of\n        // multiple bound attributes on an element. So each iteration we either\n        // increment the nodeIndex, if we aren't on a node with a part, or the\n        // partIndex if we are. By not incrementing the nodeIndex when we find a\n        // part, we allow for the next part to be associated with the current\n        // node if neccessasry.\n        if (!isTemplatePartActive(part)) {\n          this._parts.push(undefined);\n          partIndex++;\n        } else if (nodeIndex === part.index) {\n          if (part.type === 'node') {\n            const part = this.processor.handleTextExpression(this.options);\n            part.insertAfterNode(node);\n            this._parts.push(part);\n          } else {\n            this._parts.push(...this.processor.handleAttributeExpressions(\n                node as Element, part.name, part.strings, this.options));\n          }\n          partIndex++;\n        } else {\n          nodeIndex++;\n          if (node.nodeName === 'TEMPLATE') {\n            _prepareInstance((node as HTMLTemplateElement).content);\n          }\n          node = walker.nextNode();\n        }\n      }\n    };\n    _prepareInstance(fragment);\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  strings: TemplateStringsArray;\n  values: any[];\n  type: string;\n  processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: any[], type: string,\n      processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const endIndex = this.strings.length - 1;\n    let html = '';\n    for (let i = 0; i < endIndex; i++) {\n      const s = this.strings[i];\n      // This replace() call does two things:\n      // 1) Appends a suffix to all bound attribute names to opt out of special\n      // attribute value parsing that IE11 and Edge do, like for style and\n      // many SVG attributes. The Template class also appends the same suffix\n      // when looking up attributes to creat Parts.\n      // 2) Adds an unquoted-attribute-safe marker for the first expression in\n      // an attribute. Subsequent attribute expressions will use node markers,\n      // and this is safe since attributes with multiple expressions are\n      // guaranteed to be quoted.\n      let addedMarker = false;\n      html += s.replace(\n          lastAttributeNameRegex, (_match, whitespace, name, value) => {\n            addedMarker = true;\n            return whitespace + name + boundAttributeSuffix + value + marker;\n          });\n      if (!addedMarker) {\n        html += nodeMarker;\n      }\n    }\n    return html + this.strings[endIndex];\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    template.innerHTML = this.getHTML();\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTMl in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\nexport const isPrimitive = (value: any) =>\n    (value === null ||\n     !(typeof value === 'object' || typeof value === 'function'));\n\n/**\n * Sets attribute values for AttributeParts, so that the value is only set once\n * even if there are multiple parts for an attribute.\n */\nexport class AttributeCommitter {\n  element: Element;\n  name: string;\n  strings: string[];\n  parts: AttributePart[];\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      this.parts[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): any {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = this.parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (v != null &&\n            (Array.isArray(v) || typeof v !== 'string' && v[Symbol.iterator])) {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        } else {\n          text += typeof v === 'string' ? v : String(v);\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue());\n    }\n  }\n}\n\nexport class AttributePart implements Part {\n  committer: AttributeCommitter;\n  value: any = undefined;\n\n  constructor(comitter: AttributeCommitter) {\n    this.committer = comitter;\n  }\n\n  setValue(value: any): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\nexport class NodePart implements Part {\n  options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Inserts this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part between `ref` and `ref`'s next sibling. Both `ref` and\n   * its next sibling must be static, unchanging nodes such as those that appear\n   * in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part._insert(this.startNode = createMarker());\n    part._insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Appends this part after `ref`\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref._insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    const value = this._pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this._commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this._commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this._commitNode(value);\n    } else if (Array.isArray(value) || value[Symbol.iterator]) {\n      this._commitIterable(value);\n    } else {\n      // Fallback, will render the string representation\n      this._commitText(value);\n    }\n  }\n\n  private _insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private _commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this._insert(value);\n    this.value = value;\n  }\n\n  private _commitText(value: string): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === Node.TEXT_NODE) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      node.textContent = value;\n    } else {\n      this._commitNode(document.createTextNode(\n          typeof value === 'string' ? value : String(value)));\n    }\n    this.value = value;\n  }\n\n  private _commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value && this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this._commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private _commitIterable(value: any): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart!.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  element: Element;\n  name: string;\n  strings: string[];\n  value: any = undefined;\n  _pendingValue: any = undefined;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n    const value = !!this._pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n    }\n    this.value = value;\n    this._pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  single: boolean;\n\n  constructor(element: Element, name: string, strings: string[]) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the thrid\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\ntry {\n  const options = {\n    get capture() {\n      eventOptionsSupported = true;\n      return false;\n    }\n  };\n  window.addEventListener('test', options as any, options);\n  window.removeEventListener('test', options as any, options);\n} catch (_e) {\n}\n\nexport class EventPart implements Part {\n  element: Element;\n  eventName: string;\n  eventContext?: EventTarget;\n  value: any = undefined;\n  _options?: AddEventListenerOptions;\n  _pendingValue: any = undefined;\n  _boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this._boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: any): void {\n    this._pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this._pendingValue)) {\n      const directive = this._pendingValue;\n      this._pendingValue = noChange;\n      directive(this);\n    }\n    if (this._pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this._pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    if (shouldAddListener) {\n      this._options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this._boundHandleEvent, this._options);\n    }\n    this.value = newListener;\n    this._pendingValue = noChange;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      this.value.handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: any) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): Part[] {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const comitter = new PropertyCommitter(element, name.slice(1), strings);\n      return comitter.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const comitter = new AttributeCommitter(element, name, strings);\n    return comitter.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behaviour, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport type templateCache = {\n  stringsArray: WeakMap<TemplateStringsArray, Template>;\n  keyString: Map<string, Template>;\n};\n\nexport const templateCaches = new Map<string, templateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\nimport {TemplateResult} from './template-result.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result a TemplateResult created by evaluating a template tag like\n *     `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: TemplateResult,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: any[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: any[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","import {html, render} from 'lit-html';\nimport { BaseComponent } from './types';\n\nexport function debounceRender(object:BaseComponent) {\n  let requested = false;\n  const renderFunc = () => {\n    requested = false;\n    render(object.render(object), object.element);\n  };\n  return () => {\n    if (requested) return;\n    requested = true;\n    requestAnimationFrame(renderFunc);\n  }\n}\n","import { debounceRender } from './debounce-render';\nimport { BaseComponent } from './types';\n\nexport function withProps(def:any) {\n\n  const def2 = Object.create(def);\n  const oldInit = def2.init;\n  def2.init = function (event: { currentTarget: any; }) {\n\n    this.element = event.currentTarget;\n    this.requestRender = debounceRender(this);\n\n    if (oldInit) {\n      oldInit.call(this, event);\n    }\n    else {\n      this.requestRender();\n    }\n    observeProperties(this);\n  }\n  return def2;\n};\n\nfunction observeProperties(object:BaseComponent) {\n\n  const props = object.observedProperties;\n  if (!props || !props.length) {\n    object.requestRender();\n    return;\n  };\n\n  const element = object.element;\n  for (let prop of props) {\n\n    // if the component already has a property of this\n    // name then save it for later\n    const hasProp = element.hasOwnProperty(prop)\n    let initValue;\n    if (hasProp) {\n      initValue = element[prop];\n      delete element[prop];\n    }\n\n    // define getters and setters for this property name\n    Object.defineProperty(element, prop, {\n\n      get() {\n        return object[prop]\n      },\n\n      set(value) {\n        const oldValue = object[prop];\n        object[prop] = value;\n        if (oldValue !== value && object.propertyChanged) {\n          object.propertyChanged(\n            prop, value, oldValue\n          );\n        }\n        object.requestRender();\n      }\n    });\n\n    // if we saved an old property value earlier\n    // reassign it to the component\n\n    if (hasProp) {\n      element[prop] = initValue;\n    }\n  }\n}\n","let [hidden, visibilityChange] = (typeof (document as any).msHidden !== 'undefined') ?\n  ['msHidden', 'msvisibilitychange'] : (typeof (document as any).webkitHidden !== 'undefined') ?\n    ['webkitHidden', 'webkitvisibilitychange'] : ['hidden', 'visibilitychange'];\n\nexport function isHidden() {\n  return (document as any)[hidden];\n}\n\nexport function addVisibilityListener(func: EventListenerOrEventListenerObject) {\n  document.addEventListener(visibilityChange, func, false);\n}\n\nexport function removeVisiblityListener(func: EventListenerOrEventListenerObject) {\n  document.removeEventListener(visibilityChange, func, false);\n}\n","export { withProps } from './with-props';\nexport { debounceRender } from './debounce-render';\nexport { isHidden, addVisibilityListener, removeVisiblityListener} from './page-visibility';","var AudioContext = (window as any).AudioContext // Default\n    || (window as any).webkitAudioContext // Safari and old versions of Chrome\n    || false;\n\nlet audioCtx: AudioContext;\nlet source1: OscillatorNode;\nlet active = false;\n\nfunction init() {\n    audioCtx = new AudioContext();\n    if (source1) source1.stop();\n    source1 = audioCtx.createOscillator();\n    source1.type = 'square';\n    source1.frequency.value = 0;\n    source1.connect(audioCtx.destination);\n    source1.start();\n}\n\nexport function audioValue(value: number) {\n    if (value != null && active) {\n        source1.frequency.value = value;\n    }\n}\n\nexport function isAudioPlaying() {\n    return active;\n}\n\nexport function audioInit() {\n    if (!audioCtx) {\n        init();\n    }\n    active = true;\n}\n\nexport function audioPlay(state: boolean) {\n    if (!audioCtx) {\n        init();\n    }\n    if (active === state) return;\n    if (active) {\n        audioCtx.suspend();\n        active = false;\n    }\n    else {\n        audioCtx.resume();\n        active = true;\n    }\n}\n","\n/**\n * Parser/writer for the \"Intel hex\" format.\n */\n\n/*\n * A regexp that matches lines in a .hex file.\n *\n * One hexadecimal character is matched by \"[0-9A-Fa-f]\".\n * Two hex characters are matched by \"[0-9A-Fa-f]{2}\"\n * Eight or more hex characters are matched by \"[0-9A-Fa-f]{8,}\"\n * A capture group of two hex characters is \"([0-9A-Fa-f]{2})\"\n *\n * Record mark         :\n * 8 or more hex chars  ([0-9A-Fa-f]{8,})\n * Checksum                              ([0-9A-Fa-f]{2})\n * Optional newline                                      (?:\\r\\n|\\r|\\n|)\n */\nconst hexLineRegexp = /:([0-9A-Fa-f]{8,})([0-9A-Fa-f]{2})(?:\\r\\n|\\r|\\n|)/g;\n\n\n// Takes a Uint8Array as input,\n// Returns an integer in the 0-255 range.\nfunction checksum(bytes) {\n    return (-bytes.reduce((sum, v)=>sum + v, 0)) & 0xFF;\n}\n\n// Takes two Uint8Arrays as input,\n// Returns an integer in the 0-255 range.\nfunction checksumTwo(array1, array2) {\n    const partial1 = array1.reduce((sum, v)=>sum + v, 0);\n    const partial2 = array2.reduce((sum, v)=>sum + v, 0);\n    return -( partial1 + partial2 ) & 0xFF;\n}\n\n\n// Trivial utility. Converts a number to hex and pads with zeroes up to 2 characters.\nfunction hexpad(number) {\n    return number.toString(16).toUpperCase().padStart(2, '0');\n}\n\n\n// Polyfill as per https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\nNumber.isInteger = Number.isInteger || function(value) {\n    return typeof value === 'number' &&\n    isFinite(value) &&\n    Math.floor(value) === value;\n};\n\n\n/**\n * @class MemoryMap\n *\n * Represents the contents of a memory layout, with main focus into (possibly sparse) blocks of data.\n *<br/>\n * A {@linkcode MemoryMap} acts as a subclass of\n * {@linkcode https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map|Map}.\n * In every entry of it, the key is the starting address of a data block (an integer number),\n * and the value is the <tt>Uint8Array</tt> with the data for that block.\n *<br/>\n * The main rationale for this is that a .hex file can contain a single block of contiguous\n * data starting at memory address 0 (and it's the common case for simple .hex files),\n * but complex files with several non-contiguous data blocks are also possible, thus\n * the need for a data structure on top of the <tt>Uint8Array</tt>s.\n *<br/>\n * In order to parse <tt>.hex</tt> files, use the {@linkcode MemoryMap.fromHex} <em>static</em> factory\n * method. In order to write <tt>.hex</tt> files, create a new {@linkcode MemoryMap} and call\n * its {@linkcode MemoryMap.asHexString} method.\n *\n * @extends Map\n * @example\n * import MemoryMap from 'nrf-intel-hex';\n *\n * let memMap1 = new MemoryMap();\n * let memMap2 = new MemoryMap([[0, new Uint8Array(1,2,3,4)]]);\n * let memMap3 = new MemoryMap({0: new Uint8Array(1,2,3,4)});\n * let memMap4 = new MemoryMap({0xCF0: new Uint8Array(1,2,3,4)});\n */\nclass MemoryMap {\n    /**\n     * @param {Iterable} blocks The initial value for the memory blocks inside this\n     * <tt>MemoryMap</tt>. All keys must be numeric, and all values must be instances of\n     * <tt>Uint8Array</tt>. Optionally it can also be a plain <tt>Object</tt> with\n     * only numeric keys.\n     */\n    constructor(blocks) {\n        this._blocks = new Map();\n\n        if (blocks && typeof blocks[Symbol.iterator] === 'function') {\n            for (const tuple of blocks) {\n                if (!(tuple instanceof Array) || tuple.length !== 2) {\n                    throw new Error('First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined');\n                }\n                this.set(tuple[0], tuple[1]);\n            }\n        } else if (typeof blocks === 'object') {\n            // Try iterating through the object's keys\n            const addrs = Object.keys(blocks);\n            for (const addr of addrs) {\n                this.set(parseInt(addr), blocks[addr]);\n            }\n\n        } else if (blocks !== undefined && blocks !== null) {\n            throw new Error('First parameter to MemoryMap constructor must be an iterable of [addr, bytes] or undefined');\n        }\n    }\n\n    set(addr, value) {\n        if (!Number.isInteger(addr)) {\n            throw new Error('Address passed to MemoryMap is not an integer');\n        }\n        if (addr < 0) {\n            throw new Error('Address passed to MemoryMap is negative');\n        }\n        if (!(value instanceof Uint8Array)) {\n            throw new Error('Bytes passed to MemoryMap are not an Uint8Array');\n        }\n        return this._blocks.set(addr, value);\n    }\n    // Delegate the following to the 'this._blocks' Map:\n    get(addr)    { return this._blocks.get(addr);    }\n    clear()      { return this._blocks.clear();      }\n    delete(addr) { return this._blocks.delete(addr); }\n    entries()    { return this._blocks.entries();    }\n    forEach(callback, that) { return this._blocks.forEach(callback, that); }\n    has(addr)    { return this._blocks.has(addr);    }\n    keys()       { return this._blocks.keys();       }\n    values()     { return this._blocks.values();     }\n    get size()   { return this._blocks.size;         }\n    [Symbol.iterator]() { return this._blocks[Symbol.iterator](); }\n\n\n    /**\n     * Parses a string containing data formatted in \"Intel HEX\" format, and\n     * returns an instance of {@linkcode MemoryMap}.\n     *<br/>\n     * The insertion order of keys in the {@linkcode MemoryMap} is guaranteed to be strictly\n     * ascending. In other words, when iterating through the {@linkcode MemoryMap}, the addresses\n     * will be ordered in ascending order.\n     *<br/>\n     * The parser has an opinionated behaviour, and will throw a descriptive error if it\n     * encounters some malformed input. Check the project's\n     * {@link https://github.com/NordicSemiconductor/nrf-intel-hex#Features|README file} for details.\n     *<br/>\n     * If <tt>maxBlockSize</tt> is given, any contiguous data block larger than that will\n     * be split in several blocks.\n     *\n     * @param {String} hexText The contents of a .hex file.\n     * @param {Number} [maxBlockSize=Infinity] Maximum size of the returned <tt>Uint8Array</tt>s.\n     *\n     * @return {MemoryMap}\n     *\n     * @example\n     * import MemoryMap from 'nrf-intel-hex';\n     *\n     * let intelHexString =\n     *     \":100000000102030405060708090A0B0C0D0E0F1068\\n\" +\n     *     \":00000001FF\";\n     *\n     * let memMap = MemoryMap.fromHex(intelHexString);\n     *\n     * for (let [address, dataBlock] of memMap) {\n     *     console.log('Data block at ', address, ', bytes: ', dataBlock);\n     * }\n     */\n    static fromHex(hexText, maxBlockSize = Infinity) {\n        const blocks = new MemoryMap();\n\n        let lastCharacterParsed = 0;\n        let matchResult;\n        let recordCount = 0;\n\n        // Upper Linear Base Address, the 16 most significant bits (2 bytes) of\n        // the current 32-bit (4-byte) address\n        // In practice this is a offset that is summed to the \"load offset\" of the\n        // data records\n        let ulba = 0;\n\n        hexLineRegexp.lastIndex = 0; // Reset the regexp, if not it would skip content when called twice\n\n        while ((matchResult = hexLineRegexp.exec(hexText)) !== null) {\n            recordCount++;\n\n            // By default, a regexp loop ignores gaps between matches, but\n            // we want to be aware of them.\n            if (lastCharacterParsed !== matchResult.index) {\n                throw new Error(\n                    'Malformed hex file: Could not parse between characters ' +\n                    lastCharacterParsed +\n                    ' and ' +\n                    matchResult.index +\n                    ' (\"' +\n                    hexText.substring(lastCharacterParsed, Math.min(matchResult.index, lastCharacterParsed + 16)).trim() +\n                    '\")');\n            }\n            lastCharacterParsed = hexLineRegexp.lastIndex;\n\n            // Give pretty names to the match's capture groups\n            const [, recordStr, recordChecksum] = matchResult;\n\n            // String to Uint8Array - https://stackoverflow.com/questions/43131242/how-to-convert-a-hexademical-string-of-data-to-an-arraybuffer-in-javascript\n            const recordBytes = new Uint8Array(recordStr.match(/[\\da-f]{2}/gi).map((h)=>parseInt(h, 16)));\n\n            const recordLength = recordBytes[0];\n            if (recordLength + 4 !== recordBytes.length) {\n                throw new Error('Mismatched record length at record ' + recordCount + ' (' + matchResult[0].trim() + '), expected ' + (recordLength) + ' data bytes but actual length is ' + (recordBytes.length - 4));\n            }\n\n            const cs = checksum(recordBytes);\n            if (parseInt(recordChecksum, 16) !== cs) {\n                throw new Error('Checksum failed at record ' + recordCount + ' (' + matchResult[0].trim() + '), should be ' + cs.toString(16) );\n            }\n\n            const offset = (recordBytes[1] << 8) + recordBytes[2];\n            const recordType = recordBytes[3];\n            const data = recordBytes.subarray(4);\n\n            if (recordType === 0) {\n                // Data record, contains data\n                // Create a new block, at (upper linear base address + offset)\n                if (blocks.has(ulba + offset)) {\n                    throw new Error('Duplicated data at record ' + recordCount + ' (' + matchResult[0].trim() + ')');\n                }\n                if (offset + data.length > 0x10000) {\n                    throw new Error(\n                        'Data at record ' +\n                        recordCount +\n                        ' (' +\n                        matchResult[0].trim() +\n                        ') wraps over 0xFFFF. This would trigger ambiguous behaviour. Please restructure your data so that for every record the data offset plus the data length do not exceed 0xFFFF.');\n                }\n\n                blocks.set( ulba + offset, data );\n\n            } else {\n\n                // All non-data records must have a data offset of zero\n                if (offset !== 0) {\n                    throw new Error('Record ' + recordCount + ' (' + matchResult[0].trim() + ') must have 0000 as data offset.');\n                }\n\n                switch (recordType) {\n                case 1: // EOF\n                    if (lastCharacterParsed !== hexText.length) {\n                        // This record should be at the very end of the string\n                        throw new Error('There is data after an EOF record at record ' + recordCount);\n                    }\n\n                    return blocks.join(maxBlockSize);\n\n                case 2: // Extended Segment Address Record\n                    // Sets the 16 most significant bits of the 20-bit Segment Base\n                    // Address for the subsequent data.\n                    ulba = ((data[0] << 8) + data[1]) << 4;\n                    break;\n\n                case 3: // Start Segment Address Record\n                    // Do nothing. Record type 3 only applies to 16-bit Intel CPUs,\n                    // where it should reset the program counter (CS+IP CPU registers)\n                    break;\n\n                case 4: // Extended Linear Address Record\n                    // Sets the 16 most significant (upper) bits of the 32-bit Linear Address\n                    // for the subsequent data\n                    ulba = ((data[0] << 8) + data[1]) << 16;\n                    break;\n\n                case 5: // Start Linear Address Record\n                    // Do nothing. Record type 5 only applies to 32-bit Intel CPUs,\n                    // where it should reset the program counter (EIP CPU register)\n                    // It might have meaning for other CPU architectures\n                    // (see http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.faqs/ka9903.html )\n                    // but will be ignored nonetheless.\n                    break;\n                default:\n                    throw new Error('Invalid record type 0x' + hexpad(recordType) + ' at record ' + recordCount + ' (should be between 0x00 and 0x05)');\n                }\n            }\n        }\n\n        if (recordCount) {\n            throw new Error('No EOF record at end of file');\n        } else {\n            throw new Error('Malformed .hex file, could not parse any registers');\n        }\n    }\n\n\n    /**\n     * Returns a <strong>new</strong> instance of {@linkcode MemoryMap}, containing\n     * the same data, but concatenating together those memory blocks that are adjacent.\n     *<br/>\n     * The insertion order of keys in the {@linkcode MemoryMap} is guaranteed to be strictly\n     * ascending. In other words, when iterating through the {@linkcode MemoryMap}, the addresses\n     * will be ordered in ascending order.\n     *<br/>\n     * If <tt>maxBlockSize</tt> is given, blocks will be concatenated together only\n     * until the joined block reaches this size in bytes. This means that the output\n     * {@linkcode MemoryMap} might have more entries than the input one.\n     *<br/>\n     * If there is any overlap between blocks, an error will be thrown.\n     *<br/>\n     * The returned {@linkcode MemoryMap} will use newly allocated memory.\n     *\n     * @param {Number} [maxBlockSize=Infinity] Maximum size of the <tt>Uint8Array</tt>s in the\n     * returned {@linkcode MemoryMap}.\n     *\n     * @return {MemoryMap}\n     */\n    join(maxBlockSize = Infinity) {\n\n        // First pass, create a Map of addresslength of contiguous blocks\n        const sortedKeys = Array.from(this.keys()).sort((a,b)=>a-b);\n        const blockSizes = new Map();\n        let lastBlockAddr = -1;\n        let lastBlockEndAddr = -1;\n\n        for (let i=0,l=sortedKeys.length; i<l; i++) {\n            const blockAddr = sortedKeys[i];\n            const blockLength = this.get(sortedKeys[i]).length;\n\n            if (lastBlockEndAddr === blockAddr && (lastBlockEndAddr - lastBlockAddr) < maxBlockSize) {\n                // Grow when the previous end address equals the current,\n                // and we don't go over the maximum block size.\n                blockSizes.set(lastBlockAddr, blockSizes.get(lastBlockAddr) + blockLength);\n                lastBlockEndAddr += blockLength;\n            } else if (lastBlockEndAddr <= blockAddr) {\n                // Else mark a new block.\n                blockSizes.set(blockAddr, blockLength);\n                lastBlockAddr = blockAddr;\n                lastBlockEndAddr = blockAddr + blockLength;\n            } else {\n                throw new Error('Overlapping data around address 0x' + blockAddr.toString(16));\n            }\n        }\n\n        // Second pass: allocate memory for the contiguous blocks and copy data around.\n        const mergedBlocks = new MemoryMap();\n        let mergingBlock;\n        let mergingBlockAddr = -1;\n        for (let i=0,l=sortedKeys.length; i<l; i++) {\n            const blockAddr = sortedKeys[i];\n            if (blockSizes.has(blockAddr)) {\n                mergingBlock = new Uint8Array(blockSizes.get(blockAddr));\n                mergedBlocks.set(blockAddr, mergingBlock);\n                mergingBlockAddr = blockAddr;\n            }\n            mergingBlock.set(this.get(blockAddr), blockAddr - mergingBlockAddr);\n        }\n\n        return mergedBlocks;\n    }\n\n    /**\n     * Given a {@link https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map|<tt>Map</tt>}\n     * of {@linkcode MemoryMap}s, indexed by a alphanumeric ID,\n     * returns a <tt>Map</tt> of address to tuples (<tt>Arrays</tt>s of length 2) of the form\n     * <tt>(id, Uint8Array)</tt>s.\n     *<br/>\n     * The scenario for using this is having several {@linkcode MemoryMap}s, from several calls to\n     * {@link module:nrf-intel-hex~hexToArrays|hexToArrays}, each having a different identifier.\n     * This function locates where those memory block sets overlap, and returns a <tt>Map</tt>\n     * containing addresses as keys, and arrays as values. Each array will contain 1 or more\n     * <tt>(id, Uint8Array)</tt> tuples: the identifier of the memory block set that has\n     * data in that region, and the data itself. When memory block sets overlap, there will\n     * be more than one tuple.\n     *<br/>\n     * The <tt>Uint8Array</tt>s in the output are\n     * {@link https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/subarray|subarrays}\n     * of the input data; new memory is <strong>not</strong> allocated for them.\n     *<br/>\n     * The insertion order of keys in the output <tt>Map</tt> is guaranteed to be strictly\n     * ascending. In other words, when iterating through the <tt>Map</tt>, the addresses\n     * will be ordered in ascending order.\n     *<br/>\n     * When two blocks overlap, the corresponding array of tuples will have the tuples ordered\n     * in the insertion order of the input <tt>Map</tt> of block sets.\n     *<br/>\n     *\n     * @param {Map.MemoryMap} memoryMaps The input memory block sets\n     *\n     * @example\n     * import MemoryMap from 'nrf-intel-hex';\n     *\n     * let memMap1 = MemoryMap.fromHex( hexdata1 );\n     * let memMap2 = MemoryMap.fromHex( hexdata2 );\n     * let memMap3 = MemoryMap.fromHex( hexdata3 );\n     *\n     * let maps = new Map([\n     *  ['file A', blocks1],\n     *  ['file B', blocks2],\n     *  ['file C', blocks3]\n     * ]);\n     *\n     * let overlappings = MemoryMap.overlapMemoryMaps(maps);\n     *\n     * for (let [address, tuples] of overlappings) {\n     *     // if 'tuples' has length > 1, there is an overlap starting at 'address'\n     *\n     *     for (let [address, tuples] of overlappings) {\n     *         let [id, bytes] = tuple;\n     *         // 'id' in this example is either 'file A', 'file B' or 'file C'\n     *     }\n     * }\n     * @return {Map.Array<mixed,Uint8Array>} The map of possibly overlapping memory blocks\n     */\n    static overlapMemoryMaps(memoryMaps) {\n        // First pass: create a list of addresses where any block starts or ends.\n        const cuts = new Set();\n        for (const [, blocks] of memoryMaps) {\n            for (const [address, block] of blocks) {\n                cuts.add(address);\n                cuts.add(address + block.length);\n            }\n        }\n\n        const orderedCuts = Array.from(cuts.values()).sort((a,b)=>a-b);\n        const overlaps = new Map();\n\n        // Second pass: iterate through the cuts, get slices of every intersecting blockset\n        for (let i=0, l=orderedCuts.length-1; i<l; i++) {\n            const cut = orderedCuts[i];\n            const nextCut = orderedCuts[i+1];\n            const tuples = [];\n\n            for (const [setId, blocks] of memoryMaps) {\n                // Find the block with the highest address that is equal or lower to\n                // the current cut (if any)\n                const blockAddr = Array.from(blocks.keys()).reduce((acc, val)=>{\n                    if (val > cut) {\n                        return acc;\n                    }\n                    return Math.max( acc, val );\n                }, -1);\n\n                if (blockAddr !== -1) {\n                    const block = blocks.get(blockAddr);\n                    const subBlockStart = cut - blockAddr;\n                    const subBlockEnd = nextCut - blockAddr;\n\n                    if (subBlockStart < block.length) {\n                        tuples.push([ setId, block.subarray(subBlockStart, subBlockEnd) ]);\n                    }\n                }\n            }\n\n            if (tuples.length) {\n                overlaps.set(cut, tuples);\n            }\n        }\n\n        return overlaps;\n    }\n\n\n    /**\n     * Given the output of the {@linkcode MemoryMap.overlapMemoryMaps|overlapMemoryMaps}\n     * (a <tt>Map</tt> of address to an <tt>Array</tt> of <tt>(id, Uint8Array)</tt> tuples),\n     * returns a {@linkcode MemoryMap}. This discards the IDs in the process.\n     *<br/>\n     * The output <tt>Map</tt> contains as many entries as the input one (using the same addresses\n     * as keys), but the value for each entry will be the <tt>Uint8Array</tt> of the <b>last</b>\n     * tuple for each address in the input data.\n     *<br/>\n     * The scenario is wanting to join together several parsed .hex files, not worrying about\n     * their overlaps.\n     *<br/>\n     *\n     * @param {Map.Array<mixed,Uint8Array>} overlaps The (possibly overlapping) input memory blocks\n     * @return {MemoryMap} The flattened memory blocks\n     */\n    static flattenOverlaps(overlaps) {\n        return new MemoryMap(\n            Array.from(overlaps.entries()).map(([address, tuples]) => {\n                return [address, tuples[tuples.length - 1][1] ];\n            })\n        );\n    }\n\n\n    /**\n     * Returns a new instance of {@linkcode MemoryMap}, where:\n     *\n     * <ul>\n     *  <li>Each key (the start address of each <tt>Uint8Array</tt>) is a multiple of\n     *    <tt>pageSize</tt></li>\n     *  <li>The size of each <tt>Uint8Array</tt> is exactly <tt>pageSize</tt></li>\n     *  <li>Bytes from the input map to bytes in the output</li>\n     *  <li>Bytes not in the input are replaced by a padding value</li>\n     * </ul>\n     *<br/>\n     * The scenario is wanting to prepare pages of bytes for a write operation, where the write\n     * operation affects a whole page/sector at once.\n     *<br/>\n     * The insertion order of keys in the output {@linkcode MemoryMap} is guaranteed\n     * to be strictly ascending. In other words, when iterating through the\n     * {@linkcode MemoryMap}, the addresses will be ordered in ascending order.\n     *<br/>\n     * The <tt>Uint8Array</tt>s in the output will be newly allocated.\n     *<br/>\n     *\n     * @param {Number} [pageSize=1024] The size of the output pages, in bytes\n     * @param {Number} [pad=0xFF] The byte value to use for padding\n     * @return {MemoryMap}\n     */\n    paginate( pageSize=1024, pad=0xFF) {\n        if (pageSize <= 0) {\n            throw new Error('Page size must be greater than zero');\n        }\n        const outPages = new MemoryMap();\n        let page;\n\n        const sortedKeys = Array.from(this.keys()).sort((a,b)=>a-b);\n\n        for (let i=0,l=sortedKeys.length; i<l; i++) {\n            const blockAddr = sortedKeys[i];\n            const block = this.get(blockAddr);\n            const blockLength = block.length;\n            const blockEnd = blockAddr + blockLength;\n\n            for (let pageAddr = blockAddr - (blockAddr % pageSize); pageAddr < blockEnd; pageAddr += pageSize) {\n                page = outPages.get(pageAddr);\n                if (!page) {\n                    page = new Uint8Array(pageSize);\n                    page.fill(pad);\n                    outPages.set(pageAddr, page);\n                }\n\n                const offset = pageAddr - blockAddr;\n                let subBlock;\n                if (offset <= 0) {\n                    // First page which intersects the block\n                    subBlock = block.subarray(0, Math.min(pageSize + offset, blockLength));\n                    page.set(subBlock, -offset);\n                } else {\n                    // Any other page which intersects the block\n                    subBlock = block.subarray(offset, offset + Math.min(pageSize, blockLength - offset));\n                    page.set(subBlock, 0);\n                }\n            }\n        }\n\n        return outPages;\n    }\n\n\n    /**\n     * Locates the <tt>Uint8Array</tt> which contains the given offset,\n     * and returns the four bytes held at that offset, as a 32-bit unsigned integer.\n     *\n     *<br/>\n     * Behaviour is similar to {@linkcode https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView/getUint32|DataView.prototype.getUint32},\n     * except that this operates over a {@linkcode MemoryMap} instead of\n     * over an <tt>ArrayBuffer</tt>, and that this may return <tt>undefined</tt> if\n     * the address is not <em>entirely</em> contained within one of the <tt>Uint8Array</tt>s.\n     *<br/>\n     *\n     * @param {Number} offset The memory offset to read the data\n     * @param {Boolean} [littleEndian=false] Whether to fetch the 4 bytes as a little- or big-endian integer\n     * @return {Number|undefined} An unsigned 32-bit integer number\n     */\n    getUint32(offset, littleEndian) {\n        const keys = Array.from(this.keys());\n\n        for (let i=0,l=keys.length; i<l; i++) {\n            const blockAddr = keys[i];\n            const block = this.get(blockAddr);\n            const blockLength = block.length;\n            const blockEnd = blockAddr + blockLength;\n\n            if (blockAddr <= offset && (offset+4) <= blockEnd) {\n                return (new DataView(block.buffer, offset - blockAddr, 4)).getUint32(0, littleEndian);\n            }\n        }\n        return;\n    }\n\n\n    /**\n     * Returns a <tt>String</tt> of text representing a .hex file.\n     * <br/>\n     * The writer has an opinionated behaviour. Check the project's\n     * {@link https://github.com/NordicSemiconductor/nrf-intel-hex#Features|README file} for details.\n     *\n     * @param {Number} [lineSize=16] Maximum number of bytes to be encoded in each data record.\n     * Must have a value between 1 and 255, as per the specification.\n     *\n     * @return {String} String of text with the .hex representation of the input binary data\n     *\n     * @example\n     * import MemoryMap from 'nrf-intel-hex';\n     *\n     * let memMap = new MemoryMap();\n     * let bytes = new Uint8Array(....);\n     * memMap.set(0x0FF80000, bytes); // The block with 'bytes' will start at offset 0x0FF80000\n     *\n     * let string = memMap.asHexString();\n     */\n    asHexString(lineSize = 16) {\n        let lowAddress  = 0;    // 16 least significant bits of the current addr\n        let highAddress = -1 << 16; // 16 most significant bits of the current addr\n        const records = [];\n        if (lineSize <=0) {\n            throw new Error('Size of record must be greater than zero');\n        } else if (lineSize > 255) {\n            throw new Error('Size of record must be less than 256');\n        }\n\n        // Placeholders\n        const offsetRecord = new Uint8Array(6);\n        const recordHeader = new Uint8Array(4);\n\n        const sortedKeys = Array.from(this.keys()).sort((a,b)=>a-b);\n        for (let i=0,l=sortedKeys.length; i<l; i++) {\n            const blockAddr = sortedKeys[i];\n            const block = this.get(blockAddr);\n\n            // Sanity checks\n            if (!(block instanceof Uint8Array)) {\n                throw new Error('Block at offset ' + blockAddr + ' is not an Uint8Array');\n            }\n            if (blockAddr < 0) {\n                throw new Error('Block at offset ' + blockAddr + ' has a negative thus invalid address');\n            }\n            const blockSize = block.length;\n            if (!blockSize) { continue; }   // Skip zero-length blocks\n\n\n            if (blockAddr > (highAddress + 0xFFFF)) {\n                // Insert a new 0x04 record to jump to a new 64KiB block\n\n                // Round up the least significant 16 bits - no bitmasks because they trigger\n                // base-2 negative numbers, whereas subtracting the modulo maintains precision\n                highAddress = blockAddr - blockAddr % 0x10000;\n                lowAddress = 0;\n\n                offsetRecord[0] = 2;    // Length\n                offsetRecord[1] = 0;    // Load offset, high byte\n                offsetRecord[2] = 0;    // Load offset, low byte\n                offsetRecord[3] = 4;    // Record type\n                offsetRecord[4] = highAddress >> 24;    // new address offset, high byte\n                offsetRecord[5] = highAddress >> 16;    // new address offset, low byte\n\n                records.push(\n                    ':' +\n                    Array.prototype.map.call(offsetRecord, hexpad).join('') +\n                    hexpad(checksum(offsetRecord))\n                );\n            }\n\n            if (blockAddr < (highAddress + lowAddress)) {\n                throw new Error(\n                    'Block starting at 0x' +\n                    blockAddr.toString(16) +\n                    ' overlaps with a previous block.');\n            }\n\n            lowAddress = blockAddr % 0x10000;\n            let blockOffset = 0;\n            const blockEnd = blockAddr + blockSize;\n            if (blockEnd > 0xFFFFFFFF) {\n                throw new Error('Data cannot be over 0xFFFFFFFF');\n            }\n\n            // Loop for every 64KiB memory segment that spans this block\n            while (highAddress + lowAddress < blockEnd) {\n\n                if (lowAddress > 0xFFFF) {\n                    // Insert a new 0x04 record to jump to a new 64KiB block\n                    highAddress += 1 << 16; // Increase by one\n                    lowAddress = 0;\n\n                    offsetRecord[0] = 2;    // Length\n                    offsetRecord[1] = 0;    // Load offset, high byte\n                    offsetRecord[2] = 0;    // Load offset, low byte\n                    offsetRecord[3] = 4;    // Record type\n                    offsetRecord[4] = highAddress >> 24;    // new address offset, high byte\n                    offsetRecord[5] = highAddress >> 16;    // new address offset, low byte\n\n                    records.push(\n                        ':' +\n                        Array.prototype.map.call(offsetRecord, hexpad).join('') +\n                        hexpad(checksum(offsetRecord))\n                    );\n                }\n\n                let recordSize = -1;\n                // Loop for every record for that spans the current 64KiB memory segment\n                while (lowAddress < 0x10000 && recordSize) {\n                    recordSize = Math.min(\n                        lineSize,                            // Normal case\n                        blockEnd - highAddress - lowAddress, // End of block\n                        0x10000 - lowAddress                 // End of low addresses\n                    );\n\n                    if (recordSize) {\n\n                        recordHeader[0] = recordSize;   // Length\n                        recordHeader[1] = lowAddress >> 8;    // Load offset, high byte\n                        recordHeader[2] = lowAddress;    // Load offset, low byte\n                        recordHeader[3] = 0;    // Record type\n\n                        const subBlock = block.subarray(blockOffset, blockOffset + recordSize);   // Data bytes for this record\n\n                        records.push(\n                            ':' +\n                            Array.prototype.map.call(recordHeader, hexpad).join('') +\n                            Array.prototype.map.call(subBlock, hexpad).join('') +\n                            hexpad(checksumTwo(recordHeader, subBlock))\n                        );\n\n                        blockOffset += recordSize;\n                        lowAddress += recordSize;\n                    }\n                }\n            }\n        }\n\n        records.push(':00000001FF');    // EOF record\n\n        return records.join('\\n');\n    }\n\n\n    /**\n     * Performs a deep copy of the current {@linkcode MemoryMap}, returning a new one\n     * with exactly the same contents, but allocating new memory for each of its\n     * <tt>Uint8Array</tt>s.\n     *\n     * @return {MemoryMap}\n     */\n    clone() {\n        const cloned = new MemoryMap();\n\n        for (let [addr, value] of this) {\n            cloned.set(addr, new Uint8Array(value));\n        }\n\n        return cloned;\n    }\n\n\n    /**\n     * Given one <tt>Uint8Array</tt>, looks through its contents and returns a new\n     * {@linkcode MemoryMap}, stripping away those regions where there are only\n     * padding bytes.\n     * <br/>\n     * The start of the input <tt>Uint8Array</tt> is assumed to be offset zero for the output.\n     * <br/>\n     * The use case here is dumping memory from a working device and try to see the\n     * \"interesting\" memory regions it has. This assumes that there is a constant,\n     * predefined padding byte value being used in the \"non-interesting\" regions.\n     * In other words: this will work as long as the dump comes from a flash memory\n     * which has been previously erased (thus <tt>0xFF</tt>s for padding), or from a\n     * previously blanked HDD (thus <tt>0x00</tt>s for padding).\n     * <br/>\n     * This method uses <tt>subarray</tt> on the input data, and thus does not allocate memory\n     * for the <tt>Uint8Array</tt>s.\n     *\n     * @param {Uint8Array} bytes The input data\n     * @param {Number} [padByte=0xFF] The value of the byte assumed to be used as padding\n     * @param {Number} [minPadLength=64] The minimum number of consecutive pad bytes to\n     * be considered actual padding\n     *\n     * @return {MemoryMap}\n     */\n    static fromPaddedUint8Array(bytes, padByte=0xFF, minPadLength=64) {\n\n        if (!(bytes instanceof Uint8Array)) {\n            throw new Error('Bytes passed to fromPaddedUint8Array are not an Uint8Array');\n        }\n\n        // The algorithm used is nave and checks every byte.\n        // An obvious optimization would be to implement Boyer-Moore\n        // (see https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string_search_algorithm )\n        // or otherwise start skipping up to minPadLength bytes when going through a non-pad\n        // byte.\n        // Anyway, we could expect a lot of cases where there is a majority of pad bytes,\n        // and the algorithm should check most of them anyway, so the perf gain is questionable.\n\n        const memMap = new MemoryMap();\n        let consecutivePads = 0;\n        let lastNonPad = -1;\n        let firstNonPad = 0;\n        let skippingBytes = false;\n        const l = bytes.length;\n\n        for (let addr = 0; addr < l; addr++) {\n            const byte = bytes[addr];\n\n            if (byte === padByte) {\n                consecutivePads++;\n                if (consecutivePads >= minPadLength) {\n                    // Edge case: ignore writing a zero-length block when skipping\n                    // bytes at the beginning of the input\n                    if (lastNonPad !== -1) {\n                        /// Add the previous block to the result memMap\n                        memMap.set(firstNonPad, bytes.subarray(firstNonPad, lastNonPad+1));\n                    }\n\n                    skippingBytes = true;\n                }\n            } else {\n                if (skippingBytes) {\n                    skippingBytes = false;\n                    firstNonPad = addr;\n                }\n                lastNonPad = addr;\n                consecutivePads = 0;\n            }\n        }\n\n        // At EOF, add the last block if not skipping bytes already (and input not empty)\n        if (!skippingBytes && lastNonPad !== -1) {\n            memMap.set(firstNonPad, bytes.subarray(firstNonPad, l));\n        }\n\n        return memMap;\n    }\n\n\n    /**\n     * Returns a new instance of {@linkcode MemoryMap}, containing only data between\n     * the addresses <tt>address</tt> and <tt>address + length</tt>.\n     * Behaviour is similar to {@linkcode https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array/slice|Array.prototype.slice},\n     * in that the return value is a portion of the current {@linkcode MemoryMap}.\n     *\n     * <br/>\n     * The returned {@linkcode MemoryMap} might be empty.\n     *\n     * <br/>\n     * Internally, this uses <tt>subarray</tt>, so new memory is not allocated.\n     *\n     * @param {Number} address The start address of the slice\n     * @param {Number} length The length of memory map to slice out\n     * @return {MemoryMap}\n     */\n    slice(address, length = Infinity){\n        if (length < 0) {\n            throw new Error('Length of the slice cannot be negative');\n        }\n\n        const sliced = new MemoryMap();\n\n        for (let [blockAddr, block] of this) {\n            const blockLength = block.length;\n\n            if ((blockAddr + blockLength) >= address && blockAddr < (address + length)) {\n                const sliceStart = Math.max(address, blockAddr);\n                const sliceEnd = Math.min(address + length, blockAddr + blockLength);\n                const sliceLength = sliceEnd - sliceStart;\n                const relativeSliceStart = sliceStart - blockAddr;\n\n                if (sliceLength > 0) {\n                    sliced.set(sliceStart, block.subarray(relativeSliceStart, relativeSliceStart + sliceLength));\n                }\n            }\n        }\n        return sliced;\n    }\n\n    /**\n     * Returns a new instance of {@linkcode https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView/getUint32|Uint8Array}, containing only data between\n     * the addresses <tt>address</tt> and <tt>address + length</tt>. Any byte without a value\n     * in the input {@linkcode MemoryMap} will have a value of <tt>padByte</tt>.\n     *\n     * <br/>\n     * This method allocates new memory.\n     *\n     * @param {Number} address The start address of the slice\n     * @param {Number} length The length of memory map to slice out\n     * @param {Number} [padByte=0xFF] The value of the byte assumed to be used as padding\n     * @return {MemoryMap}\n     */\n    slicePad(address, length, padByte=0xFF){\n        if (length < 0) {\n            throw new Error('Length of the slice cannot be negative');\n        }\n        \n        const out = (new Uint8Array(length)).fill(padByte);\n\n        for (let [blockAddr, block] of this) {\n            const blockLength = block.length;\n\n            if ((blockAddr + blockLength) >= address && blockAddr < (address + length)) {\n                const sliceStart = Math.max(address, blockAddr);\n                const sliceEnd = Math.min(address + length, blockAddr + blockLength);\n                const sliceLength = sliceEnd - sliceStart;\n                const relativeSliceStart = sliceStart - blockAddr;\n\n                if (sliceLength > 0) {\n                    out.set(block.subarray(relativeSliceStart, relativeSliceStart + sliceLength), sliceStart - address);\n                }\n            }\n        }\n        return out;\n    }\n\n    /**\n     * Checks whether the current memory map contains the one given as a parameter.\n     *\n     * <br/>\n     * \"Contains\" means that all the offsets that have a byte value in the given\n     * memory map have a value in the current memory map, and that the byte values\n     * are the same.\n     *\n     * <br/>\n     * An empty memory map is always contained in any other memory map.\n     *\n     * <br/>\n     * Returns boolean <tt>true</tt> if the memory map is contained, <tt>false</tt>\n     * otherwise.\n     *\n     * @param {MemoryMap} memMap The memory map to check\n     * @return {Boolean}\n     */\n    contains(memMap) {\n        for (let [blockAddr, block] of memMap) {\n\n            const blockLength = block.length;\n\n            const slice = this.slice(blockAddr, blockLength).join().get(blockAddr);\n\n            if ((!slice) || slice.length !== blockLength ) {\n                return false;\n            }\n\n            for (const i in block) {\n                if (block[i] !== slice[i]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n}\n\n\nexport default MemoryMap;\n\n","export const ROM =\n`:10000000C3F005FFFFFFFFFFC32003FFFFFFFFFF5C\n:10001000C3E003FFFFFFFFFFC39004FFFFFFFFFFED\n:10002000FFFFFFFFFFFFFFFF213002C34100FFFF83\n:10003000213005C34100FFFFC7FFFFFFFFFFFFFFA8\n:10004000FF220008C3B001FFFFFFFFFFFFFFFFFF1C\n:10005000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0\n:10006000FFFFFFFFFFFFDB00E61FED47C931D00FA9\n:10007000CD3101CD8E013AF90FFE00C29600ED5749\n:10008000FE10DA8800C3E30021F70FCD6F01ED6F9A\n:1000900023ED6FC3DA00ED57FE10DAB700AF32FA86\n:1000A0000FED57FE13CADA00FE12CAC200FE11CAD3\n:1000B000C600FE10CAD0002AF70FCD7B01ED6FC33A\n:1000C000E3002AF70FE92AF70F2B22F70FC3E3000B\n:1000D0002AF70F2322F70FC3E3003E00060421F3A3\n:1000E0000F18073E67060221F10F32F90FD9ED5BB9\n:1000F000F70FCD02011ACD0E01D9CBE62310FBC3B9\n:100100006D0021F30F7BCD15017ACD1501C921F1C9\n:100110000FCD1501C9F5CD26017723F10F0F0F0F74\n:10012000CD26017723C9E5215F01E60F856F7EE1CA\n:10013000C93EFFED47CD4001ED57FEFFC0C3310181\n:10014000DDE5010106DD7E00D302DD2379D301CB9D\n:10015000274F3E0A3DC25401D30110E9DDE1C9EB4E\n:1001600028CDAD2EA7E729EF2F6FE6C3ECC747CD0B\n:100170007B01C0233E00772BED57C9ED57473AFA74\n:100180000FFE0078C0AF773D32FA0F78C9000E0A33\n:1001900021500029110100AFD3023DD3014110FECF\n:1001A000EE80ED5220F5C9FFFFFFFFFFFFFFFFFFCD\n:1001B000ED5B00081AE61FFE1FC80000FE1ECAB055\n:1001C00001FE00CAE9014713D521F801CDE301F58D\n:1001D00078211002CDE3016F2600F14FCD9301D1BC\n:1001E000C3B4015F1600197EC9D51100101B7AB384\n:1001F000C2ED01D113C3B4018C837C757067625C5E\n:1002000057524E4845413C3936322F2C2A27252358\n:10021000191A1C1D1E20232527292C2E3133373A6D\n:100220003D4145494D52575C10FFFFFFFFFFFFFF67\n:1002300006060A0D060D0A0D121614120F11120FE2\n:100240000D0D0D0A120F0D0A0806080A0F0A0D0FF0\n:1002500006060A0D060D0A0D121614120F11120FC2\n:100260000D0D0D0A120F0D0A0806080A0612001ECF\n:10027000FD2A0008DD21F10F060621F10F360023CB\n:1002800010FB060611F70F21F60F7E122B1B10FA3A\n:10029000FD7E00FD23E61FFE1FC8FE1E28D221B3EF\n:1002A00002CDE30132F10F3E80F5CD4001F13D205A\n:1002B000F818CF006FE6C3ECC747E36E28E8CEC25C\n:1002C0006BEB4F2F43A746EAE0AECD0410180000B9\n:1002D0000008050C0C0E0013080511050013080991\n:1002E0001200091200130805001305031809191953\n:1002F000191904051209070D0504000216000A0E5B\n:10030000080D00080111041600060E110013051A4D\n:100310000000000000001EFFFFFFFFFFFFFFFFFFC8\n:10032000DD21F10FAF32FA0F32FB0F060621F10F7C\n:1003300036002310FB3AF50FFE00203711F50F2190\n:10034000F40F06047E122B1B10FAED5FCDB50332BD\n:10035000F10F3E0000F53EFFED473AFB0FCDB50330\n:1003600032F60FCD4001ED57FEFFC48E03F13D2064\n:10037000E418C2CD8E01060621F10F36002310FBD2\n:100380003AFA0F21F30FCD1501CD31011892FE106D\n:1003900020083AFB0F3C32FB0FC93AF60F4F21F50C\n:1003A0000F06057EB9200A36003AFA0F3C2732FACA\n:1003B0000F2B10EFC9E607CD2601C9160E14000C4D\n:1003C0000E1205001213140F09041A1F0E08000D57\n:1003D0000E19191909000C0E12131A1FFFFFFFFF47\n:1003E000DD21F10F3E2332FA0F21F10F0606360010\n:1003F0002310FB1E00CD6604CD3101ED57FE043005\n:10040000F4FE0028F05F3AFA0FBB284438429327E5\n:1004100032FA0FCD660421F60F36AE1600CD40013C\n:100420001520FA3AFA0FFE01282C3D27D604273072\n:10043000FBC60427FE0028105F3AFA0F932732FA12\n:100440000F21F60F362818ADED5FE603282818E8CF\n:1004500011BB03C3590411CC03ED530008CD700246\n:10046000CD3101C3E00321F10F3AFA0FCD1501237D\n:100470007BCD260177C93CC33804FF14121417172B\n:100480001214101F0111011101111FFFFFFFFFFFC7\n:10049000DD21F10FFD2100083E50FD77003E20FDDB\n:1004A0007701AFFD770221F10F060636002310FB1E\n:1004B0001680FD7E0121F10FCD15012323FD7E0065\n:1004C000CD15013EFFED47CD4001ED57FEFFC4F3D2\n:1004D0000415C2B204FD7E02D60127FD770247FD56\n:1004E0007E008027FE00CA1105FE60301BFD7700EC\n:1004F000C3B004FD7E01FE00C83D27FD7701FD7EEF\n:1005000002C60227FD7702C9118404DD210000180C\n:1005100003117B04ED530008CDB001CD3101C39030\n:1005200004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD6\n:100530000B0A080A0A0A0606060B0A080A0A0A0A29\n:100540000A0A0B0A080A0A0A0606060A080A0D0D14\n:100550000D0D0D000D05080B0B0B0606060B0A080A\n:100560000A0A0A0606060B0A0608080808080A0B03\n:100570000A080606060606060000001EFFFFFFFF2B\n:1005800021000831D00FDD21F10F22F70FAF32F932\n:100590000F32FA0F0E0A215000CD93010E202130A8\n:1005A00000CD9301C3E300FFFFFFFFFFFFFFFFFF4D\n:1005B00021000811000B7EFEFFC2C205210008C306\n:1005C000B605D3031AFEFFC2D00511000BC3C40544\n:1005D000D304CDE105131AD304CDE1051323C3B62B\n:1005E0000501FF030B78B1C2E405C9FFFFFFFFFF60\n:1005F000ED73D80F31F00FF5C5D5E5DDE5FDE50864\n:10060000D9F5C5D5E5ED57F5C38005FFFFFFFFFF21\n:10061000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEA\n:10062000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFDA\n:10063000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFCA\n:10064000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFBA\n:10065000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFAA\n:10066000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9A\n:10067000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8A\n:10068000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7A\n:10069000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6A\n:1006A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5A\n:1006B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4A\n:1006C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF3A\n:1006D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2A\n:1006E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF1A\n:1006F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0A\n:10070000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9\n:10071000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE9\n:10072000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD9\n:10073000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC9\n:10074000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB9\n:10075000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA9\n:10076000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF99\n:10077000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF89\n:10078000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF79\n:10079000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF69\n:1007A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF59\n:1007B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF49\n:1007C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF39\n:1007D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF29\n:1007E000FFFF6AC7FBC7500A93C7FBC78DC6BF0D83\n:1007F000B1C643010BBC000FE00F6D0143016E0851\n:00000001FF\n`;\n","export const ROM =\n`:10000000C3F005FFFFFFFFFFC32003FFFFFFFFFF5C\n:10001000C3E003FFFFFFFFFFC39004FFFFFFFFFFED\n:10002000FFFFFFFFFFFFFFFF213002C34100FFFF83\n:10003000213005C34100FFFFC7FFFFFFFFFFFFFFA8\n:10004000FF220008C3B001FFFFFFFFFFFFFFFFFF1C\n:10005000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0\n:10006000FFFFFFFFFFFFDB00E61FED47C931D00FA9\n:10007000CD3101CD8E013AF90FFE00C29600ED5749\n:10008000FE10DA8800C3E30021F70FCD6F01ED6F9A\n:1000900023ED6FC3DA00ED57FE10DAB700AF32FA86\n:1000A0000FED57FE13CADA00FE12CAC200FE11CAD3\n:1000B000C600FE10CAD0002AF70FCD7B01ED6FC33A\n:1000C000E3002AF70FE92AF70F2B22F70FC3E3000B\n:1000D0002AF70F2322F70FC3E3003E00060421F3A3\n:1000E0000F18073E67060221F10F32F90FD9ED5BB9\n:1000F000F70FCD02011ACD0E01D9CBE62310FBC3B9\n:100100006D0021F30F7BCD15017ACD1501C921F1C9\n:100110000FCD1501C9F5CD26017723F10F0F0F0F74\n:10012000CD26017723C9E5215F01E60F856F7EE1CA\n:10013000C93EFFED47CD4001ED57FEFFC0C3310181\n:10014000DDE5010106DD7E00D302DD2379D301CB9D\n:10015000274F3E0A3DC25401D30110E9DDE1C9EB4E\n:1001600028CDAD2EA7E729EF2F6FE6C3ECC747CD0B\n:100170007B01C0233E00772BED57C9ED57473AFA74\n:100180000FFE0078C0AF773D32FA0F78C9000E0A33\n:1001900021500029110100AFD3023DD3014110FECF\n:1001A000EE80ED5220F5C9FFFFFFFFFFFFFFFFFFCD\n:1001B000ED5B00081AE61FFE1FC80000FE1ECAB055\n:1001C00001FE00CAE9014713D521F801CDE301F58D\n:1001D00078211002CDE3016F2600F14FCD9301D1BC\n:1001E000C3B4015F1600197EC9D51100101B7AB384\n:1001F000C2ED01D113C3B4018C837C757067625C5E\n:1002000057524E4845413C3936322F2C2A27252358\n:10021000191A1C1D1E20232527292C2E3133373A6D\n:100220003D4145494D52575C10FFFFFFFFFFFFFF67\n:1002300006060A0D060D0A0D121614120F11120FE2\n:100240000D0D0D0A120F0D0A0806080A0F0A0D0FF0\n:1002500006060A0D060D0A0D121614120F11120FC2\n:100260000D0D0D0A120F0D0A0806080A0612001ECF\n:10027000FD2A0008DD21F10F060621F10F360023CB\n:1002800010FB060611F70F21F60F7E122B1B10FA3A\n:10029000FD7E00FD23E61FFE1FC8FE1E28D221B3EF\n:1002A00002CDE30132F10F3E80F5CD4001F13D205A\n:1002B000F818CF006FE6C3ECC747E36E28E8CEC25C\n:1002C0006BEB4F2F43A746EAE0AECD0410180000B9\n:1002D0000008050C0C0E0013080511050013080991\n:1002E0001200091200130805001305031809191953\n:1002F000191904051209070D0504000216000A0E5B\n:10030000080D00080111041600060E110013051A4D\n:100310000000000000001EFFFFFFFFFFFFFFFFFFC8\n:10032000DD21F10FAF32FA0F32FB0F060621F10F7C\n:1003300036002310FB3AF50FFE00203711F50F2190\n:10034000F40F06047E122B1B10FAED5FCDB50332BD\n:10035000F10F3E0000F53EFFED473AFB0FCDB50330\n:1003600032F60FCD4001ED57FEFFC48E03F13D2064\n:10037000E418C2CD8E01060621F10F36002310FBD2\n:100380003AFA0F21F30FCD1501CD31011892FE106D\n:1003900020083AFB0F3C32FB0FC93AF60F4F21F50C\n:1003A0000F06057EB9200A36003AFA0F3C2732FACA\n:1003B0000F2B10EFC9E607CD2601C9160E14000C4D\n:1003C0000E1205001213140F09041A1F0E08000D57\n:1003D0000E19191909000C0E12131A1FFFFFFFFF47\n:1003E000DD21F10F3E2332FA0F21F10F0606360010\n:1003F0002310FB1E00CD6604CD3101ED57FE043005\n:10040000F4FE0028F05F3AFA0FBB284438429327E5\n:1004100032FA0FCD660421F60F36AE1600CD40013C\n:100420001520FA3AFA0FFE01282C3D27D604273072\n:10043000FBC60427FE0028105F3AFA0F932732FA12\n:100440000F21F60F362818ADED5FE603282818E8CF\n:1004500011BB03C3590411CC03ED530008CD700246\n:10046000CD3101C3E00321F10F3AFA0FCD1501237D\n:100470007BCD260177C93CC33804FF14121417172B\n:100480001214101F0111011101111FFFFFFFFFFFC7\n:10049000DD21F10FFD2100083E50FD77003E20FDDB\n:1004A0007701AFFD770221F10F060636002310FB1E\n:1004B0001680FD7E0121F10FCD15012323FD7E0065\n:1004C000CD15013EFFED47CD4001ED57FEFFC4F3D2\n:1004D0000415C2B204FD7E02D60127FD770247FD56\n:1004E0007E008027FE00CA1105FE60301BFD7700EC\n:1004F000C3B004FD7E01FE00C83D27FD7701FD7EEF\n:1005000002C60227FD7702C9118404DD210000180C\n:1005100003117B04ED530008CDB001CD3101C39030\n:1005200004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD6\n:100530000B0A080A0A0A0606060B0A080A0A0A0A29\n:100540000A0A0B0A080A0A0A0606060A080A0D0D14\n:100550000D0D0D000D05080B0B0B0606060B0A080A\n:100560000A0A0A0606060B0A0608080808080A0B03\n:100570000A080606060606060000001EFFFFFFFF2B\n:1005800021000831D00FDD21F10F22F70FAF32F932\n:100590000F32FA0F0E0A215000CD93010E202130A8\n:1005A00000CD9301C3E300FFFFFFFFFFFFFFFFFF4D\n:1005B00021000811000B7EFEFFC2C205210008C306\n:1005C000B605D3031AFEFFC2D00511000BC3C40544\n:1005D000D304CDE105131AD304CDE1051323C3B62B\n:1005E0000501FF030B78B1C2E405C9FFFFFFFFFF60\n:1005F000ED73D80F31F00FF5C5D5E5DDE5FDE50864\n:10060000D9F5C5D5E5ED57F5C38005FFFFFFFFFF21\n:10061000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEA\n:10062000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFDA\n:10063000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFCA\n:10064000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFBA\n:10065000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFAA\n:10066000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9A\n:10067000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8A\n:10068000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7A\n:10069000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6A\n:1006A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5A\n:1006B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4A\n:1006C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF3A\n:1006D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2A\n:1006E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF1A\n:1006F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0A\n:10070000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9\n:10071000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE9\n:10072000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD9\n:10073000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC9\n:10074000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB9\n:10075000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA9\n:10076000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF99\n:10077000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF89\n:10078000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF79\n:10079000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF69\n:1007A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF59\n:1007B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF49\n:1007C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF39\n:1007D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF29\n:1007E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF19\n:1007F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF09\n:00000001FF\n`;","export const ROM =\n`:10000000C30002FFFFFFFFFF2AC008E9FFFFFFFF59\n:100010002AC208E9FFFFFFFF2AC408E9FFFFFFFF2C\n:100020002AC608E9FFFFFFFF2AC808E9FFFFFFFF14\n:100030002ACA08E9FFFFFFFF2ACC08E9FFFFFFFFFC\n:10004000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC0\n:10005000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0\n:10006000FFFFFFFFFFFFF5DB0032E008F1ED45FF8A\n:10007000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF90\n:10008000EB28CDAD2EA7E729EF2F6FE6C3ECC747CE\n:10009000E36628E84EC22D6BEB4F2F4BA746EAE0F4\n:1000A000ACA4AEC9100818042C00FFFFFFFFFFFF2F\n:1000B00000090000FFFFFFFFFFFFFFFFF8FF000048\n:1000C0001B181E1D12170E290B222917120C24298A\n:1000D00029292929FE1C1D18170AFFFFFFFFFFFF12\n:1000E000CD8902031804CD89020BCD9004CD700296\n:1000F00021DF08CBC6CB8EC37803FFFFFFFFFFFFD6\n:10010000FD1010FD11EF12E1135414C910BE10B20E\n:1001100010A9199F1A961C801E86207F22772471B1\n:10012000266A28642A5F2D592F543250354B3847A0\n:100130003C433F3F433C47384B355032542F592DB9\n:100140005F2A64286A26712477227F20861E8E1CEF\n:10015000961A9419A918B316BE15C914D513E1122D\n:10016000EF11FD10FFFFFFFFFFFFFFFFFFFFFFFF8E\n:10017000C5D5E5F5A720035F18021E802100018781\n:10018000856F4E23467BD30110FE46AFD30110FE90\n:100190000D20F1F1E1D1C1C9FFFFFFFFFFFFFFFF1C\n:1001A000F5E52AD6087EFEFF2003E1F1C9FEFE2810\n:1001B000F123CD700118EEFFFFFFFFFFFFFFFFFFF0\n:1001C00021DF08CB462007CBC6CB8EC37803CB8676\n:1001D000CBCEC37803FFFFFFC50680CDA00210FB86\n:1001E000C1C9FFFFED4BD208CD9004CD7002C3789A\n:1001F00003FFED4BD408CD9004CD7002C37803FF0C\n:10020000ED73E808310009F5C5D5E5DDE5FDE50844\n:10021000D9F5C5D5E5ED57F5AF32CC0832CD083E5E\n:10022000FF32E008C34002FFFFFFFFFFFFFFFFFFB9\n:10023000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFCE\n:1002400031C008AFD301D30221B00011D808010595\n:1002500000EDB0CD70023E08CD70013E0FCD7001B3\n:100260003E0132DF08CDA002CD600318F8FFFFFF8A\n:10027000F5E5C5CD8902E6F00F0F0F0F32DC080A55\n:10028000E60F32DD08C1E1F1C921D8087E07070772\n:1002900007238647237E0707070723864F0AC9FFE0\n:1002A000F5E5D5C511D808AFD301CD5003CB4E2805\n:1002B00002CBE7D3023E20D301062010FEAFD301CC\n:1002C000CD5003CB4E2802CBE7D3023E10D301061C\n:1002D0002010FEAFD301CD5003CB4E2802CBE7D385\n:1002E000023E08D301062010FEAFD301CD5003CB50\n:1002F0004E2802CBE7D3023E04D301062010FEAF06\n:10030000D30100C31803FFFFFFFFFFFFCD8902C524\n:10031000E131C008E9FFFFFFCD5003CB462802CBF7\n:10032000E7D3023E02D301062010FEAFD301CD5029\n:1003300003CB462802CBE7D3023E01D301062010AF\n:10034000FEAFD301C1D1E1F1C9FFFFFFFFFFFFFF06\n:100350002180001A856F7E1321DF08C9FFFFFFFF90\n:10036000F5E521E0083EFFBE280E7EE61FCB6E209D\n:1003700002C614C3A803FFFFE1F1C9FFFFE1F1C901\n:10038000FFFFFFFFCD8902C5DDE1DD23DDE5E17C77\n:10039000FE402808DD7E00DD77FF18EE3E0032FFCC\n:1003A0003FCD7002C37803FFC601CD7001C32104A5\n:1003B000CD89020BDD21FE3FDD7E00DD7701DD2BE7\n:1003C000DDE5E179BD20F178BC20EDDD360100CD21\n:1003D0007002C37803FFFFFFE5F5DDE5C5AF32DF4F\n:1003E00008060621D8083E29772310FC2AD0087E6B\n:1003F000FEFF2006C1DDE1F1E1C9FEFE28EEDD21B0\n:10040000D8080605DD7E01DD7700DD2310F67E329B\n:10041000DD08230640CDA00210FB18D3FFFFFFFF2D\n:10042000FFD60136FFCB67C2C004CB6FC2C0042128\n:10043000DF08CB46CA550457CD890221DF08CB5EC1\n:100440002003AFCBDE07070707E6F08202CD70027C\n:10045000C37D03FFFF5721DF08CB9ECB6620080139\n:100460000000CD9004CBE6CD89027807070707E6A8\n:10047000F05F7907070707E60F8347790707070744\n:10048000E6F0824FCD9004CD7002C37D03FFFFFFE5\n:10049000F5E521D80878E6F007070707772378E61F\n:1004A0000F772379E6F007070707772379E60F77B9\n:1004B000E1F1C9FFFFFFFFFFFFFFFFFFFFFFFFFFAE\n:1004C00021DF08CB9ECBA6FE10CAE000FE11CAE6D3\n:1004D00000FE12CA0C03FE13CAC001FE14CA500566\n:1004E000FE15CAFFFFFE16CAFFFFFE17CAF201FE85\n:1004F00018CA7005FE19CAFFFFFE1ACAFFFFFE1BCD\n:10050000CAFFFFFE1CCA6006FE1DCAFFFFFE1ECA10\n:10051000FFFFFE1FCAFFFFFE20CAFFFFFE21CAFF2A\n:10052000FFFE22CAFFFFFE23CAFFFFFE24CAB0035C\n:10053000FE25CA8403FE26CAFFFFFE27CAE401C3C4\n:100540007803FFFFFFFFFFFFFFFFFFFFFFFFFFFF3E\n:10055000CD890260693AE10823BE20FC444DCD906C\n:1005600004C35302FFFFFFFFFFFFFFFFFFFFFFFF7B\n:10057000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8B\n:10058000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7B\n:10059000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6B\n:1005A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5B\n:1005B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4B\n:1005C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF3B\n:1005D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2B\n:1005E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF1B\n:1005F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0B\n:10060000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA\n:10061000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEA\n:10062000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFDA\n:10063000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFCA\n:10064000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFBA\n:10065000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFAA\n:10066000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9A\n:10067000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8A\n:10068000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7A\n:10069000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6A\n:1006A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5A\n:1006B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4A\n:1006C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF3A\n:1006D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2A\n:1006E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF1A\n:1006F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0A\n:10070000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9\n:10071000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE9\n:10072000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD9\n:10073000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC9\n:10074000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB9\n:10075000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA9\n:10076000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF99\n:10077000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF89\n:10078000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF79\n:10079000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF69\n:1007A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF59\n:1007B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF49\n:1007C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF39\n:1007D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF29\n:1007E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF19\n:1007F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF09\n:00000001FF\n`;","export const ROM =\n`:10000000C38005FFFFFFFFFFC32003FFFFFFFFFFCC\n:10001000C3E003FFFFFFFFFFC39004FFFFFFFFFFED\n:10002000FFFFFFFFFFFFFFFF213002C34100FFFF83\n:10003000213005C34100FFFF21D102220008C37017\n:1000400002220008C3B001FFFFFFFFFFFFFFFFFF19\n:10005000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0\n:10006000FFFFFFFFFFFFDB00E61FED47C931F00F89\n:10007000CD3101CD8E013AF90FFE00C29600ED5749\n:10008000FE10DA8800C3E30021F70FCD6F01ED6F9A\n:1000900023ED6FC3DA00ED57FE10DAB700AF32FA86\n:1000A0000FED57FE13CADA00FE12CAC200FE11CAD3\n:1000B000C600FE10CAD0002AF70FCD7B01ED6FC33A\n:1000C000E3002AF70FE92AF70F2B22F70FC3E3000B\n:1000D0002AF70F2322F70FC3E3003E00060421F3A3\n:1000E0000F18073E67060221F10F32F90FD9ED5BB9\n:1000F000F70FCD02011ACD0E01D9CBE62310FBC3B9\n:100100006D0021F30F7BCD15017ACD1501C921F1C9\n:100110000FCD1501C9F5CD26017723F10F0F0F0F74\n:10012000CD26017723C9E5215F01E60F856F7EE1CA\n:10013000C93EFFED47CD4001ED57FEFFC0C3310181\n:10014000DDE5010106DD7E00D302DD2379D301CB9D\n:10015000274F3E0A3DC25401D30110E9DDE1C9EB4E\n:1001600028CDAD2EA7E729EF2F6FE6C3ECC747CD0B\n:100170007B01C0233E00772BED57C9ED57473AFA74\n:100180000FFE0078C0AF773D32FA0F78C9000E0A33\n:1001900021500029110100AFD3023DD3014110FECF\n:1001A000EE80ED5220F5C9FFFFFFFFFFFFFFFFFFCD\n:1001B000ED5B00081AE61FFE1FC80000FE1ECAB055\n:1001C00001FE00CAE9014713D521F801CDE301F58D\n:1001D00078211002CDE3016F2600F14FCD9301D1BC\n:1001E000C3B4015F1600197EC9D51100101B7AB384\n:1001F000C2ED01D113C3B4018C837C757067625C5E\n:1002000057524E4845413C3936322F2C2A27252358\n:10021000191A1C1D1E20232527292C2E3133373A6D\n:100220003D4145494D52575C10FFFFFFFFFFFFFF67\n:1002300006060A0D060D0A0D121614120F11120FE2\n:100240000D0D0D0A120F0D0A0806080A0F0A0D0FF0\n:1002500006060A0D060D0A0D121614120F11120FC2\n:100260000D0D0D0A120F0D0A0806080A0612001ECF\n:10027000FD2A0008DD21F10F060621F10F360023CB\n:1002800010FB060611F70F21F60F7E122B1B10FA3A\n:10029000FD7E00FD23E61FFE1FC8FE1E28D221B3EF\n:1002A00002CDE30132F10F3E80F5CD4001F13D205A\n:1002B000F818CF006FE6C3ECC747E36E28E8CEC25C\n:1002C00064EB4F2F44A746E0A9AECD041018000000\n:1002D0000008050C0C0E0013080511050013080991\n:1002E0001200091200130805001305031809191953\n:1002F000191904051209070D0504000216000A0E5B\n:10030000080D00080111041600060E110013051A4D\n:100310000000000000001EFFFFFFFFFFFFFFFFFFC8\n:10032000DD21F10FAF32FA0F32FB0F060621F10F7C\n:1003300036002310FB3AF50FFE00203711F50F2190\n:10034000F40F06047E122B1B10FAED5FCDB50332BD\n:10035000F10F3E0000F53EFFED473AFB0FCDB50330\n:1003600032F60FCD4001ED57FEFFC48E03F13D2064\n:10037000E418C2CD8E01060621F10F36002310FBD2\n:100380003AFA0F21F30FCD1501CD31011892FE106D\n:1003900020083AFB0F3C32FB0FC93AF60F4F21F50C\n:1003A0000F06057EB9200A36003AFA0F3C2732FACA\n:1003B0000F2B10EFC9E607CD2601C9160E14000C4D\n:1003C0000E1205001213140F09041A1F0E08000D57\n:1003D0000E19191909000C0E12131A1FFFFFFFFF47\n:1003E000DD21F10F3E2332FA0F21F10F0606360010\n:1003F0002310FB1E00CD6604CD3101ED57FE043005\n:10040000F4FE0028F05F3AFA0FBB284438429327E5\n:1004100032FA0FCD660421F60F36AE1600CD40013C\n:100420001520FA3AFA0FFE01282C3D27D604273072\n:10043000FBC60427FE0028105F3AFA0F932732FA12\n:100440000F21F60F362818ADED5FE603282818E8CF\n:1004500011BB03C3590411CC03ED530008CD700246\n:10046000CD3101C3E00321F10F3AFA0FCD1501237D\n:100470007BCD260177C93CC33804FF14121417172B\n:100480001214101F0111011101111FFFFFFFFFFFC7\n:10049000DD21F10FFD2100083E50FD77003E20FDDB\n:1004A0007701AFFD770221F10F060636002310FB1E\n:1004B0001680FD7E0121F10FCD15012323FD7E0065\n:1004C000CD15013EFFED47CD4001ED57FEFFC4F3D2\n:1004D0000415C2B204FD7E02D60127FD770247FD56\n:1004E0007E008027FE00CA1105FE60301BFD7700EC\n:1004F000C3B004FD7E01FE00C83D27FD7701FD7EEF\n:1005000002C60227FD7702C9118404DD210000180C\n:1005100003117B04ED530008CDB001CD3101C39030\n:1005200004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD6\n:100530000B0A080A0A0A0606060B0A080A0A0A0A29\n:100540000A0A0B0A080A0A0A0606060A080A0D0D14\n:100550000D0D0D000D05080B0B0B0606060B0A080A\n:100560000A0A0A0606060B0A0608080808080A0B03\n:100570000A080606060606060000001EFFFFFFFF2B\n:1005800021000831F00FDD21F10F22F70FAF32F912\n:100590000F32FA0F0E0A215000CD93010E202130A8\n:1005A00000CD9301C3E300FFFFFFFFFFFFFFFFFF4D\n:1005B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4B\n:1005C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF3B\n:1005D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2B\n:1005E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF1B\n:1005F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0B\n:10060000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA\n:10061000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEA\n:10062000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFDA\n:10063000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFCA\n:10064000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFBA\n:10065000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFAA\n:10066000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9A\n:10067000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF8A\n:10068000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7A\n:10069000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF6A\n:1006A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5A\n:1006B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF4A\n:1006C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF3A\n:1006D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF2A\n:1006E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF1A\n:1006F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0A\n:10070000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF9\n:10071000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE9\n:10072000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD9\n:10073000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC9\n:10074000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB9\n:10075000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA9\n:10076000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF99\n:10077000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF89\n:10078000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF79\n:10079000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF69\n:1007A000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF59\n:1007B000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF49\n:1007C000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF39\n:1007D000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF29\n:1007E000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF19\n:1007F000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF09\n:00000001FF\n`;\n","import { html } from 'lit-html'\nimport { withProps, isHidden, addVisibilityListener, removeVisiblityListener } from '../util';\nimport tec1Image from '../../assets/TEC-1.jpg';\nimport {audioInit, audioPlay, audioValue} from '../util/audio';\n// @ts-ignore: Module '\"nrf-intel-hex\"' has no default export\nimport MemoryMap from 'nrf-intel-hex';\n\ninterface Message {\n    type: string;\n}\n\ninterface MemoryMessage extends Message {\n    type: 'POST_MESSAGE';\n    from: number;\n    size: number;\n    buffer: ArrayBuffer;\n}\n\ninterface CPUMessage extends Message {\n    type: 'POST_OUTPORTS';\n    buffer: ArrayBuffer;\n    display: ArrayBuffer;\n    wavelength: any;\n}\n\n\ninterface KeyMap {\n    [key: string]: number | null;\n}\n\nconst keyMap:KeyMap = {\n    Digit0: 0x00, Digit1: 0x01, Digit2: 0x02, Digit3: 0x03,\n    Digit4: 0x04, Digit5: 0x05, Digit6: 0x06, Digit7: 0x07,\n    Digit8: 0x08, Digit9: 0x09,\n    KeyA: 0x0A, KeyB: 0x0B, KeyC: 0x0C, KeyD: 0x0D,\n    KeyE: 0x0E, KeyF: 0x0F,\n    Space: 0x13, Tab: 0x13,\n    Enter: 0x12, Minus: 0x11,\n    ArrowDown: 0x11, ArrowUp: 0x10,\n};\n\ninterface AppRootProps {\n    digits: number[];\n    segments: number[];\n    display: number[];\n    shiftLocked: boolean;\n}\n\nconst anchor = document.createElement('a');\n\nexport const Tec1App = withProps({\n\n    init: function () {\n        this.digits = 0;\n        this.segments = 0;\n        this.display = Array(6).fill(0);\n        this.handleVisibility = this.handleVisibility.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n        this.classic = localStorage.getItem('classic') === 'true';\n        this.speed = localStorage.getItem('speed');\n        this.shiftLocked = false;\n    },\n\n    onconnected() {\n        this.worker = new Worker('../worker/worker.ts');\n        this.worker.onmessage = (event: { data: CPUMessage | MemoryMessage }) => {\n            if (event.data.type === 'POST_OUTPORTS') {\n                const {\n                        buffer,\n                        display,\n                        wavelength,\n                } = event.data;\n                let view = new Uint8Array(buffer);\n                this.digits = view[1];\n                this.segments = view[2];\n                this.requestRender();\n                this.display = [...new Uint8Array(display)];\n                this.wavelength = wavelength;\n                this.frequency = this.wavelength ? 500000/this.wavelength : 0;\n                audioValue(this.frequency);\n            }\n            else {\n                const {\n                    from,\n                    buffer\n                } = event.data;\n                let memMap = new MemoryMap();\n                let bytes = new Uint8Array(buffer);\n                memMap.set(from, bytes);\n                let value = memMap.asHexString();\n                const url = URL.createObjectURL(new Blob([value], {type: 'application/octet-stream'}));\n                var m = new Date();\n                var fileName = `TEC-1-${(new Date).getTime()}.hex`;\n                anchor.download = fileName;\n                anchor.href = url;\n                anchor.dataset.downloadurl = ['text/plain', anchor.download, anchor.href].join(':');\n                anchor.click();\n            }\n        }\n        this.worker.postMessage({ type: 'INIT' });\n        this.postSpeed(this.speed);\n        this.handleChangeROM('MON-1');\n\n        document.addEventListener(\"keydown\", this.handleKeyDown);\n        addVisibilityListener(this.handleVisibility);\n    },\n\n    ondisconnected() {\n        this.worker.terminate();\n        document.removeEventListener(\"keydown\", this.handleKeyDown);\n        removeVisiblityListener(this.handleVisibility);\n    },\n\n    handleVisibility() {\n        console.log('isHidden', isHidden());\n        audioPlay(!isHidden());\n        this.worker.postMessage({ type: 'HIDDEN', value: isHidden() });\n    },\n\n    handleKeyDown(event: KeyEvent) {\n\n        if (this.handleButton(event.code, event.shiftKey, event.ctrlKey)) {\n            event.preventDefault();\n        }\n        else {\n            console.log(event, event.code, event.key);\n        }\n    },\n\n    handleButton(code:string, shiftKey:boolean) {\n        audioInit();\n        if (code === 'Escape') {\n            this.worker.postMessage({ type: 'RESET' });\n            return true;\n        }\n        else if (code === 'Space') {\n            this.worker.postMessage({ type: 'PAUSE' });\n            return true;\n        }\n        else if (code === 'ShiftLock') {\n            this.shiftLocked = !this.shiftLocked;\n            return true;\n        }\n        else if (code in keyMap) {\n            let keyCode = keyMap[code];\n            if (keyCode == null)\n                return false;\n            if (shiftKey) {\n                this.shiftLocked = true;\n            }\n            const bit5 = 0b00100000;\n            const keyCode1 = this.shiftLocked ?\n                keyCode & ~bit5 :\n                keyCode | bit5;\n            this.shiftLocked = false;\n            this.worker.postMessage({ type: 'SET_INPUT_VALUE', port: 0, value: keyCode1 });\n            this.worker.postMessage({ type: 'NMI' });\n            return true;\n        }\n        return false;\n    },\n\n    handleChangeROM(name:string) {\n        const p:Promise<{ROM:string}> =\n            (name == 'MON-1A') ? import('../roms/MON-1A') :\n            (name == 'MON-1B') ? import('../roms/MON-1B') :\n            (name == 'MON-2') ? import('../roms/MON-2') :\n            import('../roms/MON-1');\n        p.then((result) =>\n            this.worker.postMessage({ type: 'UPDATE_MEMORY', value: result.ROM })\n        );\n    },\n\n    handleUpload(event: { target: { files: Array<Blob>; }; }) {\n        const files = event.target.files;\n        if (files == null || files.length === 0) return;\n        const file = files[0];\n        const reader = new FileReader();\n        reader.onload = () =>\n            this.worker.postMessage({ type: 'UPDATE_MEMORY', value: reader.result });\n        reader.readAsText(file);\n    },\n\n    handleDownload() {\n        this.worker.postMessage({ type: 'READ_MEMORY', from: 0, size: 0x800 });\n    },\n\n    postSpeed(speed: string) {\n        this.worker.postMessage({ type: 'SET_SPEED', value: speed });\n    },\n\n    render({ digits, segments, display, shiftLocked }:AppRootProps) {\n        return html`\n<style>\n    #tec1 {\n        width: 600px;\n        height: 375px;\n        background-image: url(${tec1Image});\n        background-size: 100% 100%;\n        position: relative;\n    }\n</style>\n<div style=\"display:inline-block\">\n    <div style=\"display:flex; justify-content:space-between; align-items: center; margin: 3px\">\n        <div>\n            <label for=\"file-upload\">HEX</label>\n            <input id=\"file-upload\" type=\"file\" accept=\".hex\" @change=${(event: any) => this.handleUpload(event)}>\n        </div>\n        <div>\n            <label for=\"rom-select\">ROM</label>\n            <select id=\"rom-select\" @change=${(event: any) => this.handleChangeROM(event.target.value)}>\n                <option>MON-1</option>\n                <option>MON-1A</option>\n                <option>MON-1B</option>\n                <option>MON-2</option>\n            </select>\n        </div>\n        <button @click=${() => this.handleDownload()}>Download</button>\n    </div>\n    <div id=\"tec1\">\n        ${  this.classic ?\n            html`<div is=\"keypad-classic\" @click=${(event: { detail: { code: string; }; }) => this.handleButton(event.detail.code)}></div>` :\n            html`<div is=\"keypad-modern\" @click=${(event: { detail: { code: string; }; }) => this.handleButton(event.detail.code)}></div>`\n        }\n        <div is=\"key-button\" .text=${ 'R'}  .color=${ '#cd3d45'} .left=${349} .top=${301} @click=${() => this.handleButton('Escape')}></div>\n        <div is=\"key-button\" .text=${ 'SH'}  .color=${ shiftLocked ? '#d8696f' : '#cd3d45'} .left=${386} .top=${333} @click=${() => this.handleButton('ShiftLock')}></div>\n\n        <div id=\"digit-pane\">\n            <div id=\"seven\" is=\"seven-seg-display\" .digits=${digits} .segments=${segments} .display=${display}></div>\n        </div>\n    </div>\n    <div style=\"display:flex; justify-content:space-between; align-items: center; margin: 3px\">\n        <div>\n            <input\n                id=\"key-layout\"\n                type=\"checkbox\"\n                ?checked=${this.classic}\n                @change=${(event: { target: { checked: boolean; }; }) => {\n                    this.classic = event.target.checked;\n                    localStorage.setItem('classic', String(this.classic))\n                }}\n                >\n            <label for=\"key-layout\">original key layout</label>\n        </div>\n        <div>\n            <label for=\"speed\">Speed</label>\n            Speed\n            <input\n            id=\"speed\"\n                type=\"range\"\n                min=\"0\"\n                max=\"99\"\n                value=${this.speed || \"50\"}\n                @change=${(event: { target: { value: string; }; }) => {\n                    this.speed = event.target.value;\n                    localStorage.setItem('speed', String(this.speed))\n                    this.worker.postMessage({ type: 'SET_SPEED', value: this.speed });\n                    this.postSpeed(this.speed);\n                }}\n                >\n        </div>\n    </div>\n    <p>MON 1 Restarts:</p>\n    <div style=\"display:flex; justify-content:space-between\">\n        <div>\n            <div>CF (RST 1)\tINVADERS</div>\n            <div>D7 (RST 2)\tNIM</div>\n            <div>DF (RST 3)\tLUNALANDER</div>\n        </div>\n        <div>\n            <div>EF (RST 5)\tTUNE 1 Bealach An Doirn</div>\n            <div>F7 (RST 6)\tTUNE 2 Biking up the Strand</div>\n        </div>\n    </div>\n</div>\n<!-- <div is=\"instructions\" style=\"margin-left: 35px\"></div> -->\n`;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\ninterface SevenSegDisplayProps {\n    display: number[];\n}\n\nexport const sevenSegDisplay = withProps({\n\n    init() {\n        this.display0 = Array(6).fill(0);\n        this.display = [...this.display0];\n        this.blanks = 0\n    },\n\n    get observedProperties() {\n        return ['digits', 'segments', 'display'];\n    },\n\n    render({ display }:SevenSegDisplayProps) {\n        return html`\n<div style=\"white-space: nowrap;\">${display.map((segs:number, index:number) => html`\n<span is=\"seven-seg\" style=${index == 1 ? 'margin-left:2.2%' : ''} .segments=${segs}>\n</div>`)}</span>\n`;\n    },\n\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nconst getFill = (segments:number, mask:number) => segments & mask ? 'red' : '#320000';\n\ninterface SevenSegProps {\n    segments: number;\n}\n\nexport const sevenSeg = withProps({\n\n    get observedProperties() {\n        return ['segments'];\n    },\n\n    render({ segments }:SevenSegProps) {\n        return html`\n            <div style=\"display:inline-block;width:4.34%;margin-left:1.6%;\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 -1 12 20\">\n                    <g class=\"digit\">\n                        <polygon fill=${getFill(segments, 0x01)} points=\" 1, 1  2, 0  8, 0  9, 1  8, 2  2, 2\" />\n                        <polygon fill=${getFill(segments, 0x08)} points=\" 9, 1 10, 2 10, 8  9, 9  8, 8  8, 2\" />\n                        <polygon fill=${getFill(segments, 0x20)} points=\" 9, 9 10,10 10,16  9,17  8,16  8,10\" />\n                        <polygon fill=${getFill(segments, 0x80)} points=\" 9,17  8,18  2,18  1,17  2,16  8,16\" />\n                        <polygon fill=${getFill(segments, 0x40)} points=\" 1,17  0,16  0,10  1, 9  2,10  2,16\" />\n                        <polygon fill=${getFill(segments, 0x02)} points=\" 1, 9  0, 8  0, 2  1, 1  2, 2  2, 8\" />\n                        <polygon fill=${getFill(segments, 0x04)} points=\" 1, 9  2, 8  8, 8  9, 9  8,10  2,10\" />\n                        <circle fill=${getFill(segments, 0x10)} cx=\"11\" cy=\"17\" r=\"1\" />\n                    </g>\n                </svg>\n            </div>\n        `;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nexport const instructions = withProps({\n\n    render() {\n        return html`\n        <h1>TEC-1</h1>\n        <table style=\"width: 600px\">\n            <tbody>\n                <tr style=\"text-align: left;\">\n                    <th>Key</th>\n                    <th>Description</th>\n                    <th>TEC-1</th>\n                </tr>\n                <tr>\n                    <td>0-9,A-F</td>\n                    <td>Hex digits</td>\n                    <td></td>\n                </tr>\n                <tr>\n                    <td>ESC</td>\n                    <td>Reset</td>\n                    <td>(RES)</td>\n                </tr>\n                <tr>\n                    <td>tab</td>\n                    <td>Mode</td>\n                    <td>(AD)</td>\n                </tr>\n                <tr>\n                    <td>Enter</td>\n                    <td>Run</td>\n                    <td>(GO)</td>\n                </tr>\n                <tr>\n                    <td>Arrow Up</td>\n                    <td>Increase</td>\n                    <td>(+)</td>\n                </tr>\n                <tr>\n                    <td>Arrow Down</td>\n                    <td>Decrease</td>\n                    <td>(-)</td>\n                </tr>\n                <tr>\n                    <td>Space</td>\n                    <td>Pause/Resume</td>\n                    <td></td>\n                </tr>\n            </tbody>\n        </table>\n`;\n    }\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\ninterface KeyButtonProps {\n    text: string;\n    color: string;\n    left: number;\n    top: number;\n}\n\nexport const keyButton = withProps({\n\n    get observedProperties() {\n        return ['text','color','left','top'];\n    },\n\n    render({ text, color, left, top }: KeyButtonProps) {\n        this.element.style = `background-color:${color};left:${left}px;top:${top}px`;\n        return html`\n            ${text}\n        `;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\n\nexport const keyPadClassic = withProps({\n\n    handleButton(code:string) {\n        const event = new CustomEvent('click', {\n            detail: {\n                code: code,\n            },\n        });\n        this.element.dispatchEvent(event);\n    },\n\n    render() {\n        return html`\n<div is=\"key-button\" .text=${ 'AD'} .color=${ '#cd3d45'} .left=${438} .top=${239} @click=${() => this.handleButton('Tab')}></div>\n<div is=\"key-button\" .text=${ '3'} .color=${ '#efedeb'} .left=${468} .top=${239} @click=${() => this.handleButton('Digit3')}></div>\n<div is=\"key-button\" .text=${ '7'}  .color=${ '#efedeb'} .left=${500} .top=${239} @click=${() => this.handleButton('Digit7')}></div>\n<div is=\"key-button\" .text=${ 'B'} .color=${ '#efedeb'} .left=${531} .top=${239} @click=${() => this.handleButton('KeyB')}></div>\n<div is=\"key-button\" .text=${ 'F'} .color=${ '#efedeb'} .left=${562} .top=${239} @click=${() => this.handleButton('KeyF')}></div>\n\n<div is=\"key-button\" .text=${ 'GO'} .color=${ '#cd3d45'} .left=${438} .top=${270} @click=${() => this.handleButton('Enter')}></div>\n<div is=\"key-button\" .text=${ '2'} .color=${ '#efedeb'} .left=${468} .top=${270} @click=${() => this.handleButton('Digit2')}></div>\n<div is=\"key-button\" .text=${ '6'} .color=${ '#efedeb'} .left=${500} .top=${270} @click=${() => this.handleButton('Digit6')}></div>\n<div is=\"key-button\" .text=${ 'A'} .color=${ '#efedeb'} .left=${531} .top=${270} @click=${() => this.handleButton('KeyA')}></div>\n<div is=\"key-button\" .text=${ 'E'} .color=${ '#efedeb'} .left=${562} .top=${270} @click=${() => this.handleButton('KeyE')}></div>\n\n<div is=\"key-button\" .text=${ '-'}  .color=${ '#cd3d45'} .left=${438} .top=${301} @click=${() => this.handleButton('ArrowDown')}></div>\n<div is=\"key-button\" .text=${ '1'} .color=${ '#efedeb'} .left=${468} .top=${301} @click=${() => this.handleButton('Digit1')}></div>\n<div is=\"key-button\" .text=${ '5'} .color=${ '#efedeb'} .left=${500} .top=${301} @click=${() => this.handleButton('Digit5')}></div>\n<div is=\"key-button\" .text=${ '9'} .color=${ '#efedeb'} .left=${531} .top=${301} @click=${() => this.handleButton('Digit9')}></div>\n<div is=\"key-button\" .text=${ 'D'} .color=${ '#efedeb'} .left=${562} .top=${301} @click=${() => this.handleButton('KeyD')}></div>\n\n<div is=\"key-button\" .text=${ '+'}  .color=${ '#cd3d45'} .left=${438} .top=${331} @click=${() => this.handleButton('ArrowUp')}></div>\n<div is=\"key-button\" .text=${ '0'} .color=${ '#efedeb'} .left=${468} .top=${331} @click=${() => this.handleButton('Digit0')}></div>\n<div is=\"key-button\" .text=${ '4'} .color=${ '#efedeb'} .left=${500} .top=${332} @click=${() => this.handleButton('Digit4')}></div>\n<div is=\"key-button\" .text=${ '8'} .color=${ '#efedeb'} .left=${531} .top=${332} @click=${() => this.handleButton('Digit8')}></div>\n<div is=\"key-button\" .text=${ 'C'} .color=${ '#efedeb'} .left=${562} .top=${332} @click=${() => this.handleButton('KeyC')}></div>\n        `;\n    },\n});\n","import { html } from 'lit-html'\nimport { withProps } from '../util';\nexport const keyPadModern = withProps({\n\n    handleButton(code:string) {\n        const event = new CustomEvent('click', {\n            detail: {\n                code: code,\n            },\n        });\n        this.element.dispatchEvent(event);\n    },\n\n    render() {\n        return html`\n<div is=\"key-button\" .text=${ 'AD'} .color=${ '#cd3d45'} .left=${438} .top=${239} @click=${() => this.handleButton('Tab')}></div>\n<div is=\"key-button\" .text=${ 'C'} .color=${ '#efedeb'} .left=${468} .top=${239} @click=${() => this.handleButton('KeyC')}></div>\n<div is=\"key-button\" .text=${ 'D'}  .color=${ '#efedeb'} .left=${500} .top=${239} @click=${() => this.handleButton('KeyD')}></div>\n<div is=\"key-button\" .text=${ 'E'} .color=${ '#efedeb'} .left=${531} .top=${239} @click=${() => this.handleButton('KeyE')}></div>\n<div is=\"key-button\" .text=${ 'F'} .color=${ '#efedeb'} .left=${562} .top=${239} @click=${() => this.handleButton('KeyF')}></div>\n\n<div is=\"key-button\" .text=${ 'GO'} .color=${ '#cd3d45'} .left=${438} .top=${270} @click=${() => this.handleButton('Enter')}></div>\n<div is=\"key-button\" .text=${ '8'} .color=${ '#efedeb'} .left=${468} .top=${270} @click=${() => this.handleButton('Digit8')}></div>\n<div is=\"key-button\" .text=${ '9'} .color=${ '#efedeb'} .left=${500} .top=${270} @click=${() => this.handleButton('Digit9')}></div>\n<div is=\"key-button\" .text=${ 'A'} .color=${ '#efedeb'} .left=${531} .top=${270} @click=${() => this.handleButton('KeyA')}></div>\n<div is=\"key-button\" .text=${ 'B'} .color=${ '#efedeb'} .left=${562} .top=${270} @click=${() => this.handleButton('KeyB')}></div>\n\n<div is=\"key-button\" .text=${ '+'}  .color=${ '#cd3d45'} .left=${438} .top=${301} @click=${() => this.handleButton('ArrowUp')}></div>\n<div is=\"key-button\" .text=${ '4'} .color=${ '#efedeb'} .left=${468} .top=${301} @click=${() => this.handleButton('Digit4')}></div>\n<div is=\"key-button\" .text=${ '5'} .color=${ '#efedeb'} .left=${500} .top=${301} @click=${() => this.handleButton('Digit5')}></div>\n<div is=\"key-button\" .text=${ '6'} .color=${ '#efedeb'} .left=${531} .top=${301} @click=${() => this.handleButton('Digit6')}></div>\n<div is=\"key-button\" .text=${ '7'} .color=${ '#efedeb'} .left=${562} .top=${301} @click=${() => this.handleButton('Digit7')}></div>\n\n<div is=\"key-button\" .text=${ '-'}  .color=${ '#cd3d45'} .left=${438} .top=${331} @click=${() => this.handleButton('ArrowDown')}></div>\n<div is=\"key-button\" .text=${ '0'} .color=${ '#efedeb'} .left=${468} .top=${331} @click=${() => this.handleButton('Digit0')}></div>\n<div is=\"key-button\" .text=${ '1'} .color=${ '#efedeb'} .left=${500} .top=${332} @click=${() => this.handleButton('Digit1')}></div>\n<div is=\"key-button\" .text=${ '2'} .color=${ '#efedeb'} .left=${531} .top=${332} @click=${() => this.handleButton('Digit2')}></div>\n<div is=\"key-button\" .text=${ '3'} .color=${ '#efedeb'} .left=${562} .top=${332} @click=${() => this.handleButton('Digit3')}></div>\n        `;\n    },\n});\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nvar $Event;\n\ntry {\n  new Event('!');\n  $Event = Event;\n} catch(o_O) {\n  try {\n    new CustomEvent('!');\n    $Event = CustomEvent;\n  } catch(o_O) {\n    $Event = function (type) {\n      var e = document.createEvent('Event');\n      e.initEvent(type, false, false);\n      return e;\n    };\n  }\n}\n\nexport default $Event;\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nvar $WeakSet;\n\ntry {\n  $WeakSet = (new WeakSet).constructor;\n} catch(o_O) {\n  try {\n    // IE11 apparently has WeakMap but no WeakSet\n    o_O = ($WeakSet = new WeakMap && function () {\n      this.$ = new WeakMap;\n    }).prototype;\n    o_O.add = function (O) {\n      this.$.set(O, 0);\n      return this;\n    };\n    o_O.has = function (O) {\n      return this.$.has(O);\n    };\n    o_O.delete = function (O) {\n      return this.$.delete(O);\n    };\n  } catch(o_O) {\n    // all other browsers\n    var i = 0;\n    o_O = ($WeakSet = function () {\n      this.$ = ['__', Math.random(), i++, '__'].join('ws');\n    }).prototype;\n    o_O.add = function (O) {\n      if (!this.has(O))\n        Object.defineProperty(O, this.$, {value:true, configurable:true});\n      return this;\n    };\n    o_O.has = function (O) {\n      return this.hasOwnProperty.call(O, this.$);\n    };\n    o_O.delete = function (O) {\n      return delete O[this.$];\n    };\n  }\n}\n\nexport default $WeakSet;\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nexport default Object.assign || function (target) {\n  for (var o, i = 1; i < arguments.length; i++) {\n    o = arguments[i] || {};\n    for (var k in o) {\n      if (o.hasOwnProperty(k))\n        target[k] = o[k];\n    }\n  }\n  return target;\n};\n","// borrowed from https://github.com/WebReflection/dom4/blob/master/src/dom4.js#L361\nvar contains = document.contains || function (el) {\n  while (el && el !== this) el = el.parentNode;\n  return this === el;\n};\n\nexport default contains;\n","var indexOf = [].indexOf;\n\n// borrowed from https://github.com/WebReflection/dom4/blob/master/src/dom4.js#L130\nvar matches = 'matches' in document.documentElement ?\n  function (el, selector) {\n    return el.matches(selector);\n  } :\n  function (el, selector) {\n    return (\n      el.matchesSelector ||\n      el.webkitMatchesSelector ||\n      el.khtmlMatchesSelector ||\n      el.mozMatchesSelector ||\n      el.msMatchesSelector ||\n      el.oMatchesSelector ||\n      fallback\n    ).call(el, selector);\n  };\n\nexport default matches;\n\nfunction fallback(selector) {\n  var parentNode = this.parentNode;\n  return !!parentNode && -1 < indexOf.call(\n    parentNode.querySelectorAll(selector),\n    this\n  );\n}\n","/*! (c) Andrea Giammarchi */\nfunction attributechanged(poly) {'use strict';\n  var Event = poly.Event;\n  return function observe(node, attributeFilter) {\n    var options = {attributes: true, attributeOldValue: true};\n    var filtered = attributeFilter instanceof Array && attributeFilter.length;\n    if (filtered)\n      options.attributeFilter = attributeFilter.slice(0);\n    try {\n      (new MutationObserver(changes)).observe(node, options);\n    } catch(o_O) {\n      options.handleEvent = filtered ? handleEvent : attrModified;\n      node.addEventListener('DOMAttrModified', options, true);\n    }\n    return node;\n  };\n  function attrModified(event) {\n    dispatchEvent(event.target, event.attrName, event.prevValue);\n  }\n  function dispatchEvent(node, attributeName, oldValue) {\n    var event = new Event('attributechanged');\n    event.attributeName = attributeName;\n    event.oldValue = oldValue;\n    event.newValue = node.getAttribute(attributeName);\n    node.dispatchEvent(event);\n  }\n  function changes(records) {\n    for (var record, i = 0, length = records.length; i < length; i++) {\n      record = records[i];\n      dispatchEvent(record.target, record.attributeName, record.oldValue);\n    }\n  }\n  function handleEvent(event) {\n    if (-1 < this.attributeFilter.indexOf(event.attrName))\n      attrModified(event);\n  }\n}\nexport default attributechanged;\n","/*! (c) Andrea Giammarchi */\nfunction disconnected(poly) {'use strict';\n  var CONNECTED = 'connected';\n  var DISCONNECTED = 'dis' + CONNECTED;\n  var Event = poly.Event;\n  var WeakSet = poly.WeakSet;\n  var notObserving = true;\n  var observer = new WeakSet;\n  return function observe(node) {\n    if (notObserving) {\n      notObserving = !notObserving;\n      startObserving(node.ownerDocument);\n    }\n    observer.add(node);\n    return node;\n  };\n  function startObserving(document) {\n    var dispatched = null;\n    try {\n      (new MutationObserver(changes)).observe(\n        document,\n        {subtree: true, childList: true}\n      );\n    }\n    catch(o_O) {\n      var timer = 0;\n      var records = [];\n      var reschedule = function (record) {\n        records.push(record);\n        clearTimeout(timer);\n        timer = setTimeout(\n          function () {\n            changes(records.splice(timer = 0, records.length));\n          },\n          0\n        );\n      };\n      document.addEventListener(\n        'DOMNodeRemoved',\n        function (event) {\n          reschedule({addedNodes: [], removedNodes: [event.target]});\n        },\n        true\n      );\n      document.addEventListener(\n        'DOMNodeInserted',\n        function (event) {\n          reschedule({addedNodes: [event.target], removedNodes: []});\n        },\n        true\n      );\n    }\n    function changes(records) {\n      dispatched = new Tracker;\n      for (var\n        record,\n        length = records.length,\n        i = 0; i < length; i++\n      ) {\n        record = records[i];\n        dispatchAll(record.removedNodes, DISCONNECTED, CONNECTED);\n        dispatchAll(record.addedNodes, CONNECTED, DISCONNECTED);\n      }\n      dispatched = null;\n    }\n    function dispatchAll(nodes, type, counter) {\n      for (var\n        node,\n        event = new Event(type),\n        length = nodes.length,\n        i = 0; i < length;\n        (node = nodes[i++]).nodeType === 1 &&\n        dispatchTarget(node, event, type, counter)\n      );\n    }\n    function dispatchTarget(node, event, type, counter) {\n      if (observer.has(node) && !dispatched[type].has(node)) {\n        dispatched[counter].delete(node);\n        dispatched[type].add(node);\n        node.dispatchEvent(event);\n        /*\n        // The event is not bubbling (perf reason: should it?),\n        // hence there's no way to know if\n        // stop/Immediate/Propagation() was called.\n        // Should DOM Level 0 work at all?\n        // I say it's a YAGNI case for the time being,\n        // and easy to implement in user-land.\n        if (!event.cancelBubble) {\n          var fn = node['on' + type];\n          if (fn)\n            fn.call(node, event);\n        }\n        */\n      }\n      for (var\n        children = node.children,\n        length = children.length,\n        i = 0; i < length;\n        dispatchTarget(children[i++], event, type, counter)\n      );\n    }\n    function Tracker() {\n      this[CONNECTED] = new WeakSet;\n      this[DISCONNECTED] = new WeakSet;\n    }\n  }\n}\nexport default disconnected;\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nimport Event from './poorly/event.js';\nimport WeakSet from './poorly/weakset.js';\nimport assign from './poorly/assign.js';\n\nimport contains from './poly/contains.js';\nimport matches from './poly/matches.js';\n\nimport attributechanged from './3rd/attributechanged.js';\nimport disconnected from './3rd/disconnected.js';\n\nvar bootstrap = true;\n\nvar query = [];\nvar config = [];\nvar waiting = {};\nvar known = {};\n\nvar regularElements = {\n  Event: Event,\n  WeakSet: WeakSet,\n  assign: assign,\n  document: document,\n  define: function (selector, options) {\n    if (bootstrap) {\n      bootstrap = false;\n      init(regularElements.document);\n    }\n    var type = typeof selector;\n    if (type === 'string') {\n      if (-1 < query.indexOf(selector))\n        throw new Error('duplicated: ' + selector);\n      query.push(selector);\n      config.push(options || {});\n      ready();\n      if (selector in waiting) {\n        waiting[selector](config[config.length - 1]);\n        delete waiting[selector];\n      }\n    } else {\n      if (type !== \"object\" || selector.nodeType !== 1)\n        throw new Error('undefinable: ' + selector);\n      setupListeners(selector, options || {});\n    }\n  },\n  get: function (selector) {\n    var i = query.indexOf(selector);\n    return i < 0 ? null : assign({}, config[i]);\n  },\n  whenDefined: function (selector) {\n    return Promise.resolve(\n      regularElements.get(selector) ||\n      new Promise(function ($) {\n        waiting[selector] = $;\n      })\n    );\n  }\n};\n\n// passing along regularElements as poly for Event and WeakSet\nvar lifecycle = disconnected(regularElements);\nvar observe = {\n  attributechanged: attributechanged(regularElements),\n  connected: lifecycle,\n  disconnected: lifecycle\n};\n\nexport default regularElements;\nexport {regularElements, assign, Event, WeakSet};\n\nfunction changes(records) {\n  for (var i = 0, length = records.length; i < length; i++)\n    setupList(records[i].addedNodes, false);\n}\n\nfunction init(doc) {\n  try {\n    (new MutationObserver(changes))\n      .observe(doc, {subtree: true, childList: true});\n  }\n  catch(o_O) {\n    doc.addEventListener(\n      'DOMNodeInserted',\n      function (e) {\n        changes([{addedNodes: [e.target]}]);\n      },\n      false\n    );\n  }\n  if (doc.readyState !== 'complete')\n    doc.addEventListener('DOMContentLoaded', ready, {once: true});\n}\n\nfunction ready() {\n  if (query.length)\n    setupList(regularElements.document.querySelectorAll(query), true);\n}\n\nfunction setup(node) {\n  setupList(node.querySelectorAll(query), true);\n  for (var ws, css, i = 0, length = query.length; i < length; i++) {\n    css = query[i];\n    ws = known[css] || (known[css] = new WeakSet);\n    if (!ws.has(node) && matches(node, query[i])) {\n      ws.add(node);\n      setupListeners(node, config[i]);\n    }\n  }\n}\n\nfunction setupList(nodes, isElement) {\n  for (var node, i = 0, length = nodes.length; i < length; i++) {\n    node = nodes[i];\n    if (isElement || node.nodeType === 1)\n      setup(node);\n  }\n}\n\nfunction setupListener(node, options, type, dispatch) {\n  var method = options['on' + type];\n  if (method) {\n    observe[type](node, options.attributeFilter)\n      .addEventListener(type, method, false);\n    if (dispatch && contains.call(regularElements.document, node))\n      node.dispatchEvent(new Event(type));\n  }\n}\n\nfunction setupListeners(node, options) {\n  setupListener(node, options, 'attributechanged', false);\n  setupListener(node, options, 'disconnected', false);\n  setupListener(node, options, 'connected', true);\n}\n","/**\n * ISC License\n *\n * Copyright (c) 2018, Andrea Giammarchi, @WebReflection\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n * REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n * AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n * INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n * LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE\n * OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n * PERFORMANCE OF THIS SOFTWARE.\n */\n\nimport regularElements, {WeakSet} from './3rd/regular-elements/index.js';\n\n// minifier friendly constants\nvar ATTRIBUTE_FILTER = 'attributeFilter';\nvar ONDISCONNECTED = 'ondisconnected';\nvar ONATTRIBUTECHANGED = 'onattributechanged';\n\n// one off scoped shortcut\nvar create = Object.create;\n\n// get() and whenDefined() are just the same\n// NOTE: the component is not returned,\n//       only its initial definition.\n//       This works well in terms of security\n//       so that a component prototype won't be\n//       exposed directly through the API.\nvar wickedElements = create(regularElements, {\n  define: {\n    value: function (selector, component) {\n      var ws = new WeakSet;\n      var definition = {onconnected: setup};\n      if (ONDISCONNECTED in component)\n        definition[ONDISCONNECTED] = setup;\n      if (ONATTRIBUTECHANGED in component) {\n        definition[ONATTRIBUTECHANGED] = setup;\n        definition[ATTRIBUTE_FILTER] = component[ATTRIBUTE_FILTER] || [];\n      }\n      addIfNeeded(component, 'init', init);\n      addIfNeeded(component, 'handleEvent', handleEvent);\n      regularElements.define(selector, definition);\n      function setup(event) {\n        var el = event.currentTarget;\n        var type = event.type;\n        el.removeEventListener(type, setup);\n        if (!ws.has(el)) {\n          ws.add(el);\n          bootstrap(component, event, el, 'on' + type);\n        }\n      }\n    }\n  }\n});\n\nexport default wickedElements;\n\nfunction addIfNeeded(component, key, value) {\n  if (!(key in component))\n    component[key] = value;\n}\n\nfunction bootstrap(component, event, el, method) {\n  var handler = create(component);\n  var invoke = false;\n  for (var key in component) {\n    if (key.slice(0, 2) === 'on') {\n      el.addEventListener(key.slice(2), handler, false);\n      if (key === method)\n        invoke = !invoke;\n    }\n  }\n  handler.init(event);\n  if (invoke)\n    handler.handleEvent(event);\n}\n\nfunction handleEvent(event) {\n  var type = 'on' + event.type;\n  if (type in this)\n    this[type](event);\n}\n\nfunction init(event) {\n  this.el = event.currentTarget;\n}\n","import { Tec1App } from './components/app-root';\nimport { sevenSegDisplay } from './components/seven-seg-display';\nimport { sevenSeg } from './components/seven-seg';\nimport { instructions } from './components/instructions';\nimport { keyButton } from './components/key-button';\nimport { keyPadClassic } from './components/keypad-classic';\nimport { keyPadModern } from './components/keypad-modern';\n\nimport * as we  from 'wicked-elements';\nconst wickedElements = (we as any).default;\n\nexport function initApp() {\n    wickedElements.define('[is=\"app-root\"]', Tec1App);\n    wickedElements.define('[is=\"seven-seg-display\"]', sevenSegDisplay);\n    wickedElements.define('[is=\"seven-seg\"]', sevenSeg);\n    wickedElements.define('[is=\"instructions\"]', instructions);\n    wickedElements.define('[is=\"key-button\"]', keyButton);\n    wickedElements.define('[is=\"keypad-classic\"]', keyPadClassic);\n    wickedElements.define('[is=\"keypad-modern\"]', keyPadModern);\n}\n","import {initApp} from './app';\n\ninitApp();\n"]}